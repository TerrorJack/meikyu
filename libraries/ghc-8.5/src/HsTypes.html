<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{-
(c) The University of Glasgow 2006
(c) The GRASP/AQUA Project, Glasgow University, 1992-1998


HsTypes: Abstract syntax: user-defined types
-}</span><span>
</span><a name="line-8"></a><span>
</span><a name="line-9"></a><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable #-}</span><span>
</span><a name="line-10"></a><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><a name="line-11"></a><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><a name="line-12"></a><span class="hs-pragma">{-# LANGUAGE StandaloneDeriving #-}</span><span>
</span><a name="line-13"></a><span class="hs-pragma">{-# LANGUAGE TypeSynonymInstances #-}</span><span>
</span><a name="line-14"></a><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span> </span><span class="hs-comment">-- Note [Pass sensitive types]</span><span>
</span><a name="line-15"></a><span>                                      </span><span class="hs-comment">-- in module PlaceHolder</span><span>
</span><a name="line-16"></a><span class="hs-pragma">{-# LANGUAGE ConstraintKinds #-}</span><span>
</span><a name="line-17"></a><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><a name="line-18"></a><span>
</span><a name="line-19"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">HsTypes</span><span> </span><span class="hs-special">(</span><span>
</span><a name="line-20"></a><span>        </span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#HsKind"><span class="hs-identifier hs-type">HsKind</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a><span class="hs-special">,</span><span>
</span><a name="line-21"></a><span>        </span><a href="HsTypes.html#HsTyVarBndr"><span class="hs-identifier hs-type">HsTyVarBndr</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span class="hs-special">,</span><span>
</span><a name="line-22"></a><span>        </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-23"></a><span>        </span><a href="HsTypes.html#HsImplicitBndrs"><span class="hs-identifier hs-type">HsImplicitBndrs</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-24"></a><span>        </span><a href="HsTypes.html#HsWildCardBndrs"><span class="hs-identifier hs-type">HsWildCardBndrs</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-25"></a><span>        </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsSigWcType"><span class="hs-identifier hs-type">LHsSigWcType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsWcType"><span class="hs-identifier hs-type">LHsWcType</span></a><span class="hs-special">,</span><span>
</span><a name="line-26"></a><span>        </span><a href="HsTypes.html#HsTupleSort"><span class="hs-identifier hs-type">HsTupleSort</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-27"></a><span>        </span><a href="HsTypes.html#Promoted"><span class="hs-identifier hs-type">Promoted</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-28"></a><span>        </span><a href="HsTypes.html#HsContext"><span class="hs-identifier hs-type">HsContext</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span class="hs-special">,</span><span>
</span><a name="line-29"></a><span>        </span><a href="HsTypes.html#HsTyLit"><span class="hs-identifier hs-type">HsTyLit</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-30"></a><span>        </span><a href="HsTypes.html#HsIPName"><span class="hs-identifier hs-type">HsIPName</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsIPNameFS"><span class="hs-identifier hs-var">hsIPNameFS</span></a><span class="hs-special">,</span><span>
</span><a name="line-31"></a><span>        </span><a href="HsTypes.html#HsAppType"><span class="hs-identifier hs-type">HsAppType</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><a href="HsTypes.html#LHsAppType"><span class="hs-identifier hs-type">LHsAppType</span></a><span class="hs-special">,</span><span>
</span><a name="line-32"></a><span>
</span><a name="line-33"></a><span>        </span><a href="HsTypes.html#LBangType"><span class="hs-identifier hs-type">LBangType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#BangType"><span class="hs-identifier hs-type">BangType</span></a><span class="hs-special">,</span><span>
</span><a name="line-34"></a><span>        </span><a href="DataCon.html#HsSrcBang"><span class="hs-identifier hs-type">HsSrcBang</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="DataCon.html#HsImplBang"><span class="hs-identifier hs-type">HsImplBang</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-35"></a><span>        </span><a href="DataCon.html#SrcStrictness"><span class="hs-identifier hs-type">SrcStrictness</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="DataCon.html#SrcUnpackedness"><span class="hs-identifier hs-type">SrcUnpackedness</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-36"></a><span>        </span><a href="HsTypes.html#getBangType"><span class="hs-identifier hs-var">getBangType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#getBangStrictness"><span class="hs-identifier hs-var">getBangStrictness</span></a><span class="hs-special">,</span><span>
</span><a name="line-37"></a><span>
</span><a name="line-38"></a><span>        </span><a href="HsTypes.html#ConDeclField"><span class="hs-identifier hs-type">ConDeclField</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LConDeclField"><span class="hs-identifier hs-type">LConDeclField</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#pprConDeclFields"><span class="hs-identifier hs-var">pprConDeclFields</span></a><span class="hs-special">,</span><span>
</span><a name="line-39"></a><span>
</span><a name="line-40"></a><span>        </span><a href="HsTypes.html#HsConDetails"><span class="hs-identifier hs-type">HsConDetails</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-41"></a><span>
</span><a name="line-42"></a><span>        </span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LFieldOcc"><span class="hs-identifier hs-type">LFieldOcc</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#mkFieldOcc"><span class="hs-identifier hs-var">mkFieldOcc</span></a><span class="hs-special">,</span><span>
</span><a name="line-43"></a><span>        </span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#mkAmbiguousFieldOcc"><span class="hs-identifier hs-var">mkAmbiguousFieldOcc</span></a><span class="hs-special">,</span><span>
</span><a name="line-44"></a><span>        </span><a href="HsTypes.html#rdrNameAmbiguousFieldOcc"><span class="hs-identifier hs-var">rdrNameAmbiguousFieldOcc</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#selectorAmbiguousFieldOcc"><span class="hs-identifier hs-var">selectorAmbiguousFieldOcc</span></a><span class="hs-special">,</span><span>
</span><a name="line-45"></a><span>        </span><a href="HsTypes.html#unambiguousFieldOcc"><span class="hs-identifier hs-var">unambiguousFieldOcc</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#ambiguousFieldOcc"><span class="hs-identifier hs-var">ambiguousFieldOcc</span></a><span class="hs-special">,</span><span>
</span><a name="line-46"></a><span>
</span><a name="line-47"></a><span>        </span><a href="HsTypes.html#HsWildCardInfo"><span class="hs-identifier hs-type">HsWildCardInfo</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#mkAnonWildCardTy"><span class="hs-identifier hs-var">mkAnonWildCardTy</span></a><span class="hs-special">,</span><span>
</span><a name="line-48"></a><span>        </span><a href="HsTypes.html#wildCardName"><span class="hs-identifier hs-var">wildCardName</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#sameWildCard"><span class="hs-identifier hs-var">sameWildCard</span></a><span class="hs-special">,</span><span>
</span><a name="line-49"></a><span>
</span><a name="line-50"></a><span>        </span><a href="HsTypes.html#mkHsImplicitBndrs"><span class="hs-identifier hs-var">mkHsImplicitBndrs</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#mkHsWildCardBndrs"><span class="hs-identifier hs-var">mkHsWildCardBndrs</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsImplicitBody"><span class="hs-identifier hs-var">hsImplicitBody</span></a><span class="hs-special">,</span><span>
</span><a name="line-51"></a><span>        </span><a href="HsTypes.html#mkEmptyImplicitBndrs"><span class="hs-identifier hs-var">mkEmptyImplicitBndrs</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#mkEmptyWildCardBndrs"><span class="hs-identifier hs-var">mkEmptyWildCardBndrs</span></a><span class="hs-special">,</span><span>
</span><a name="line-52"></a><span>        </span><a href="HsTypes.html#mkHsQTvs"><span class="hs-identifier hs-var">mkHsQTvs</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsQTvExplicit"><span class="hs-identifier hs-var">hsQTvExplicit</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#emptyLHsQTvs"><span class="hs-identifier hs-var">emptyLHsQTvs</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#isEmptyLHsQTvs"><span class="hs-identifier hs-var">isEmptyLHsQTvs</span></a><span class="hs-special">,</span><span>
</span><a name="line-53"></a><span>        </span><a href="HsTypes.html#isHsKindedTyVar"><span class="hs-identifier hs-var">isHsKindedTyVar</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsTvbAllKinded"><span class="hs-identifier hs-var">hsTvbAllKinded</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#isLHsForAllTy"><span class="hs-identifier hs-var">isLHsForAllTy</span></a><span class="hs-special">,</span><span>
</span><a name="line-54"></a><span>        </span><a href="HsTypes.html#hsScopedTvs"><span class="hs-identifier hs-var">hsScopedTvs</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsWcScopedTvs"><span class="hs-identifier hs-var">hsWcScopedTvs</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#dropWildCards"><span class="hs-identifier hs-var">dropWildCards</span></a><span class="hs-special">,</span><span>
</span><a name="line-55"></a><span>        </span><a href="HsTypes.html#hsTyVarName"><span class="hs-identifier hs-var">hsTyVarName</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsAllLTyVarNames"><span class="hs-identifier hs-var">hsAllLTyVarNames</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsLTyVarLocNames"><span class="hs-identifier hs-var">hsLTyVarLocNames</span></a><span class="hs-special">,</span><span>
</span><a name="line-56"></a><span>        </span><a href="HsTypes.html#hsLTyVarName"><span class="hs-identifier hs-var">hsLTyVarName</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsLTyVarLocName"><span class="hs-identifier hs-var">hsLTyVarLocName</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsExplicitLTyVarNames"><span class="hs-identifier hs-var">hsExplicitLTyVarNames</span></a><span class="hs-special">,</span><span>
</span><a name="line-57"></a><span>        </span><a href="HsTypes.html#splitLHsInstDeclTy"><span class="hs-identifier hs-var">splitLHsInstDeclTy</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#getLHsInstDeclHead"><span class="hs-identifier hs-var">getLHsInstDeclHead</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#getLHsInstDeclClass_maybe"><span class="hs-identifier hs-var">getLHsInstDeclClass_maybe</span></a><span class="hs-special">,</span><span>
</span><a name="line-58"></a><span>        </span><a href="HsTypes.html#splitLHsPatSynTy"><span class="hs-identifier hs-var">splitLHsPatSynTy</span></a><span class="hs-special">,</span><span>
</span><a name="line-59"></a><span>        </span><a href="HsTypes.html#splitLHsForAllTy"><span class="hs-identifier hs-var">splitLHsForAllTy</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#splitLHsQualTy"><span class="hs-identifier hs-var">splitLHsQualTy</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#splitLHsSigmaTy"><span class="hs-identifier hs-var">splitLHsSigmaTy</span></a><span class="hs-special">,</span><span>
</span><a name="line-60"></a><span>        </span><a href="HsTypes.html#splitHsFunType"><span class="hs-identifier hs-var">splitHsFunType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#splitHsAppsTy"><span class="hs-identifier hs-var">splitHsAppsTy</span></a><span class="hs-special">,</span><span>
</span><a name="line-61"></a><span>        </span><a href="HsTypes.html#splitHsAppTys"><span class="hs-identifier hs-var">splitHsAppTys</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#getAppsTyHead_maybe"><span class="hs-identifier hs-var">getAppsTyHead_maybe</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsTyGetAppHead_maybe"><span class="hs-identifier hs-var">hsTyGetAppHead_maybe</span></a><span class="hs-special">,</span><span>
</span><a name="line-62"></a><span>        </span><a href="HsTypes.html#mkHsOpTy"><span class="hs-identifier hs-var">mkHsOpTy</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#mkHsAppTy"><span class="hs-identifier hs-var">mkHsAppTy</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#mkHsAppTys"><span class="hs-identifier hs-var">mkHsAppTys</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#mkHsAppsTy"><span class="hs-identifier hs-var">mkHsAppsTy</span></a><span class="hs-special">,</span><span>
</span><a name="line-63"></a><span>        </span><a href="HsTypes.html#ignoreParens"><span class="hs-identifier hs-var">ignoreParens</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsSigType"><span class="hs-identifier hs-var">hsSigType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsSigWcType"><span class="hs-identifier hs-var">hsSigWcType</span></a><span class="hs-special">,</span><span>
</span><a name="line-64"></a><span>        </span><a href="HsTypes.html#hsLTyVarBndrToType"><span class="hs-identifier hs-var">hsLTyVarBndrToType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#hsLTyVarBndrsToTypes"><span class="hs-identifier hs-var">hsLTyVarBndrsToTypes</span></a><span class="hs-special">,</span><span>
</span><a name="line-65"></a><span>
</span><a name="line-66"></a><span>        </span><span class="hs-comment">-- Printing</span><span>
</span><a name="line-67"></a><span>        </span><a href="HsTypes.html#pprHsType"><span class="hs-identifier hs-var">pprHsType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#pprHsForAll"><span class="hs-identifier hs-var">pprHsForAll</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#pprHsForAllTvs"><span class="hs-identifier hs-var">pprHsForAllTvs</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#pprHsForAllExtra"><span class="hs-identifier hs-var">pprHsForAllExtra</span></a><span class="hs-special">,</span><span>
</span><a name="line-68"></a><span>        </span><a href="HsTypes.html#pprHsContext"><span class="hs-identifier hs-var">pprHsContext</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#pprHsContextNoArrow"><span class="hs-identifier hs-var">pprHsContextNoArrow</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#pprHsContextMaybe"><span class="hs-identifier hs-var">pprHsContextMaybe</span></a><span class="hs-special">,</span><span>
</span><a name="line-69"></a><span>        </span><a href="HsTypes.html#isCompoundHsType"><span class="hs-identifier hs-var">isCompoundHsType</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#parenthesizeCompoundHsType"><span class="hs-identifier hs-var">parenthesizeCompoundHsType</span></a><span>
</span><a name="line-70"></a><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-71"></a><span>
</span><a name="line-72"></a><span class="hs-keyword">import</span><span> </span><a href="GhcPrelude.html"><span class="hs-identifier">GhcPrelude</span></a><span>
</span><a name="line-73"></a><span>
</span><a name="line-74"></a><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE #-}</span><span> </span><a href="HsExpr.html"><span class="hs-identifier">HsExpr</span></a><span> </span><span class="hs-special">(</span><span> </span><a href="HsExpr.html#HsSplice"><span class="hs-identifier hs-type">HsSplice</span></a><span class="hs-special">,</span><span> </span><a href="HsExpr.html#pprSplice"><span class="hs-identifier hs-var">pprSplice</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-75"></a><span>
</span><a name="line-76"></a><span class="hs-keyword">import</span><span> </span><a href="PlaceHolder.html"><span class="hs-identifier">PlaceHolder</span></a><span> </span><span class="hs-special">(</span><span> </span><a href="PlaceHolder.html#PlaceHolder"><span class="hs-identifier hs-type">PlaceHolder</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><a name="line-77"></a><span class="hs-keyword">import</span><span> </span><a href="HsExtension.html"><span class="hs-identifier">HsExtension</span></a><span>
</span><a name="line-78"></a><span>
</span><a name="line-79"></a><span class="hs-keyword">import</span><span> </span><a href="Id.html"><span class="hs-identifier">Id</span></a><span> </span><span class="hs-special">(</span><span> </span><a href="Var.html#Id"><span class="hs-identifier hs-type">Id</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-80"></a><span class="hs-keyword">import</span><span> </span><a href="Name.html"><span class="hs-identifier">Name</span></a><span class="hs-special">(</span><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-81"></a><span class="hs-keyword">import</span><span> </span><a href="RdrName.html"><span class="hs-identifier">RdrName</span></a><span> </span><span class="hs-special">(</span><span> </span><a href="RdrName.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-82"></a><span class="hs-keyword">import</span><span> </span><a href="NameSet.html"><span class="hs-identifier">NameSet</span></a><span> </span><span class="hs-special">(</span><span> </span><a href="NameSet.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a><span class="hs-special">,</span><span> </span><a href="NameSet.html#emptyNameSet"><span class="hs-identifier hs-var">emptyNameSet</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-83"></a><span class="hs-keyword">import</span><span> </span><a href="DataCon.html"><span class="hs-identifier">DataCon</span></a><span class="hs-special">(</span><span> </span><a href="DataCon.html#HsSrcBang"><span class="hs-identifier hs-type">HsSrcBang</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="DataCon.html#HsImplBang"><span class="hs-identifier hs-type">HsImplBang</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-84"></a><span>                </span><a href="DataCon.html#SrcStrictness"><span class="hs-identifier hs-type">SrcStrictness</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="DataCon.html#SrcUnpackedness"><span class="hs-identifier hs-type">SrcUnpackedness</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><a name="line-85"></a><span class="hs-keyword">import</span><span> </span><a href="TysPrim.html"><span class="hs-identifier">TysPrim</span></a><span class="hs-special">(</span><span> </span><a href="TysPrim.html#funTyConName"><span class="hs-identifier hs-var">funTyConName</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-86"></a><span class="hs-keyword">import</span><span> </span><a href="Type.html"><span class="hs-identifier">Type</span></a><span>
</span><a name="line-87"></a><span class="hs-keyword">import</span><span> </span><a href="HsDoc.html"><span class="hs-identifier">HsDoc</span></a><span>
</span><a name="line-88"></a><span class="hs-keyword">import</span><span> </span><a href="BasicTypes.html"><span class="hs-identifier">BasicTypes</span></a><span>
</span><a name="line-89"></a><span class="hs-keyword">import</span><span> </span><a href="SrcLoc.html"><span class="hs-identifier">SrcLoc</span></a><span>
</span><a name="line-90"></a><span class="hs-keyword">import</span><span> </span><a href="Outputable.html"><span class="hs-identifier">Outputable</span></a><span>
</span><a name="line-91"></a><span class="hs-keyword">import</span><span> </span><a href="FastString.html"><span class="hs-identifier">FastString</span></a><span>
</span><a name="line-92"></a><span class="hs-keyword">import</span><span> </span><a href="Maybes.html"><span class="hs-identifier">Maybes</span></a><span class="hs-special">(</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Maybe.html#isJust"><span class="hs-identifier hs-var">isJust</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-93"></a><span>
</span><a name="line-94"></a><span class="hs-keyword">import</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html"><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Data</span></a><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Prefix"><span class="hs-identifier hs-type">Prefix</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Infix"><span class="hs-identifier hs-type">Infix</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-95"></a><span class="hs-keyword">import</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Maybe.html"><span class="hs-identifier">Data</span><span class="hs-operator">.</span><span class="hs-identifier">Maybe</span></a><span> </span><span class="hs-special">(</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-96"></a><span>
</span><a name="line-97"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Bang annotations}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-104"></a><span>
</span><a name="line-105"></a><span class="hs-comment">-- | Located Bang Type</span><span>
</span><a name="line-106"></a><span class="hs-keyword">type</span><span> </span><a name="LBangType"><a href="HsTypes.html#LBangType"><span class="hs-identifier">LBangType</span></a></a><span> </span><a name="local-6989586621679641180"><a href="#local-6989586621679641180"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#BangType"><span class="hs-identifier hs-type">BangType</span></a><span> </span><a href="#local-6989586621679641180"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-107"></a><span>
</span><a name="line-108"></a><span class="hs-comment">-- | Bang Type</span><span>
</span><a name="line-109"></a><span class="hs-keyword">type</span><span> </span><a name="BangType"><a href="HsTypes.html#BangType"><span class="hs-identifier">BangType</span></a></a><span> </span><a name="local-6989586621679641179"><a href="#local-6989586621679641179"><span class="hs-identifier">pass</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><a href="#local-6989586621679641179"><span class="hs-identifier hs-type">pass</span></a><span>       </span><span class="hs-comment">-- Bangs are in the HsType data type</span><span>
</span><a name="line-110"></a><span>
</span><a name="line-111"></a><span class="hs-identifier">getBangType</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641266"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641266"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-112"></a><a name="getBangType"><a href="HsTypes.html#getBangType"><span class="hs-identifier">getBangType</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641267"><a href="#local-6989586621679641267"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641267"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-113"></a><span class="hs-identifier">getBangType</span><span> </span><a name="local-6989586621679641268"><a href="#local-6989586621679641268"><span class="hs-identifier">ty</span></a></a><span>                    </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641268"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-114"></a><span>
</span><a name="line-115"></a><span class="hs-identifier">getBangStrictness</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641265"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="DataCon.html#HsSrcBang"><span class="hs-identifier hs-type">HsSrcBang</span></a><span>
</span><a name="line-116"></a><a name="getBangStrictness"><a href="HsTypes.html#getBangStrictness"><span class="hs-identifier">getBangStrictness</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a><span> </span><a name="local-6989586621679641269"><a href="#local-6989586621679641269"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641269"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-117"></a><span class="hs-identifier">getBangStrictness</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="DataCon.html#HsSrcBang"><span class="hs-identifier hs-var">HsSrcBang</span></a><span> </span><a href="BasicTypes.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a><span> </span><a href="DataCon.html#NoSrcUnpack"><span class="hs-identifier hs-var">NoSrcUnpack</span></a><span> </span><a href="DataCon.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a><span class="hs-special">)</span><span>
</span><a name="line-118"></a><span>
</span><a name="line-119"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Data types}
*                                                                      *
************************************************************************

This is the syntax for types as seen in type signatures.

Note [HsBSig binder lists]
~~~~~~~~~~~~~~~~~~~~~~~~~~
Consider a binder (or pattern) decorated with a type or kind,
   \ (x :: a -&gt; a). blah
   forall (a :: k -&gt; *) (b :: k). blah
Then we use a LHsBndrSig on the binder, so that the
renamer can decorate it with the variables bound
by the pattern ('a' in the first example, 'k' in the second),
assuming that neither of them is in scope already
See also Note [Kind and type-variable binders] in RnTypes

Note [HsType binders]
~~~~~~~~~~~~~~~~~~~~~
The system for recording type and kind-variable binders in HsTypes
is a bit complicated.  Here's how it works.

* In a HsType,
     HsForAllTy   represents an /explicit, user-written/ 'forall'
                   e.g.   forall a b. ...
     HsQualTy     represents an /explicit, user-written/ context
                   e.g.   (Eq a, Show a) =&gt; ...
                  The context can be empty if that's what the user wrote
  These constructors represent what the user wrote, no more
  and no less.

* HsTyVarBndr describes a quantified type variable written by the
  user.  For example
     f :: forall a (b :: *).  blah
  here 'a' and '(b::*)' are each a HsTyVarBndr.  A HsForAllTy has
  a list of LHsTyVarBndrs.

* HsImplicitBndrs is a wrapper that gives the implicitly-quantified
  kind and type variables of the wrapped thing.  It is filled in by
  the renamer. For example, if the user writes
     f :: a -&gt; a
  the HsImplicitBinders binds the 'a' (not a HsForAllTy!).
  NB: this implicit quantification is purely lexical: we bind any
      type or kind variables that are not in scope. The type checker
      may subsequently quantify over further kind variables.

* HsWildCardBndrs is a wrapper that binds the wildcard variables
  of the wrapped thing.  It is filled in by the renamer
     f :: _a -&gt; _
  The enclosing HsWildCardBndrs binds the wildcards _a and _.

* The explicit presence of these wrappers specifies, in the HsSyn,
  exactly where implicit quantification is allowed, and where
  wildcards are allowed.

* LHsQTyVars is used in data/class declarations, where the user gives
  explicit *type* variable bindings, but we need to implicitly bind
  *kind* variables.  For example
      class C (a :: k -&gt; *) where ...
  The 'k' is implicitly bound in the hsq_tvs field of LHsQTyVars

Note [The wildcard story for types]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Types can have wildcards in them, to support partial type signatures,
like       f :: Int -&gt; (_ , _a) -&gt; _a

A wildcard in a type can be

  * An anonymous wildcard,
        written '_'
    In HsType this is represented by HsWildCardTy.
    After the renamer, this contains a Name which uniquely
    identifies this particular occurrence.

  * A named wildcard,
        written '_a', '_foo', etc
    In HsType this is represented by (HsTyVar &quot;_a&quot;)
    i.e. a perfectly ordinary type variable that happens
         to start with an underscore

Note carefully:

* When NamedWildCards is off, type variables that start with an
  underscore really /are/ ordinary type variables.  And indeed, even
  when NamedWildCards is on you can bind _a explicitly as an ordinary
  type variable:
        data T _a _b = MkT _b _a
  Or even:
        f :: forall _a. _a -&gt; _b
  Here _a is an ordinary forall'd binder, but (With NamedWildCards)
  _b is a named wildcard.  (See the comments in Trac #10982)

* All wildcards, whether named or anonymous, are bound by the
  HsWildCardBndrs construct, which wraps types that are allowed
  to have wildcards.

* After type checking is done, we report what types the wildcards
  got unified with.

-}</span><span>
</span><a name="line-222"></a><span>
</span><a name="line-223"></a><span class="hs-comment">-- | Located Haskell Context</span><span>
</span><a name="line-224"></a><span class="hs-keyword">type</span><span> </span><a name="LHsContext"><a href="HsTypes.html#LHsContext"><span class="hs-identifier">LHsContext</span></a></a><span> </span><a name="local-6989586621679641178"><a href="#local-6989586621679641178"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsContext"><span class="hs-identifier hs-type">HsContext</span></a><span> </span><a href="#local-6989586621679641178"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-225"></a><span>      </span><span class="hs-comment">-- ^ 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnUnit'</span><span>
</span><a name="line-226"></a><span>
</span><a name="line-227"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-228"></a><span>
</span><a name="line-229"></a><span class="hs-comment">-- | Haskell Context</span><span>
</span><a name="line-230"></a><span class="hs-keyword">type</span><span> </span><a name="HsContext"><a href="HsTypes.html#HsContext"><span class="hs-identifier">HsContext</span></a></a><span> </span><a name="local-6989586621679641177"><a href="#local-6989586621679641177"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641177"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-231"></a><span>
</span><a name="line-232"></a><span class="hs-comment">-- | Located Haskell Type</span><span>
</span><a name="line-233"></a><span class="hs-keyword">type</span><span> </span><a name="LHsType"><a href="HsTypes.html#LHsType"><span class="hs-identifier">LHsType</span></a></a><span> </span><a name="local-6989586621679641176"><a href="#local-6989586621679641176"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><a href="#local-6989586621679641176"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-234"></a><span>      </span><span class="hs-comment">-- ^ May have 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnComma' when</span><span>
</span><a name="line-235"></a><span>      </span><span class="hs-comment">--   in a list</span><span>
</span><a name="line-236"></a><span>
</span><a name="line-237"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-238"></a><span>
</span><a name="line-239"></a><span class="hs-comment">-- | Haskell Kind</span><span>
</span><a name="line-240"></a><span class="hs-keyword">type</span><span> </span><a name="HsKind"><a href="HsTypes.html#HsKind"><span class="hs-identifier">HsKind</span></a></a><span> </span><a name="local-6989586621679641175"><a href="#local-6989586621679641175"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><a href="#local-6989586621679641175"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-241"></a><span>
</span><a name="line-242"></a><span class="hs-comment">-- | Located Haskell Kind</span><span>
</span><a name="line-243"></a><span class="hs-keyword">type</span><span> </span><a name="LHsKind"><a href="HsTypes.html#LHsKind"><span class="hs-identifier">LHsKind</span></a></a><span> </span><a name="local-6989586621679641174"><a href="#local-6989586621679641174"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsKind"><span class="hs-identifier hs-type">HsKind</span></a><span> </span><a href="#local-6989586621679641174"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-244"></a><span>      </span><span class="hs-comment">-- ^ 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnDcolon'</span><span>
</span><a name="line-245"></a><span>
</span><a name="line-246"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-247"></a><span>
</span><a name="line-248"></a><span class="hs-comment">--------------------------------------------------</span><span>
</span><a name="line-249"></a><span class="hs-comment">--             LHsQTyVars</span><span>
</span><a name="line-250"></a><span class="hs-comment">--  The explicitly-quantified binders in a data/type declaration</span><span>
</span><a name="line-251"></a><span>
</span><a name="line-252"></a><span class="hs-comment">-- | Located Haskell Type Variable Binder</span><span>
</span><a name="line-253"></a><span class="hs-keyword">type</span><span> </span><a name="LHsTyVarBndr"><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier">LHsTyVarBndr</span></a></a><span> </span><a name="local-6989586621679641173"><a href="#local-6989586621679641173"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVarBndr"><span class="hs-identifier hs-type">HsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641173"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-254"></a><span>                         </span><span class="hs-comment">-- See Note [HsType binders]</span><span>
</span><a name="line-255"></a><span>
</span><a name="line-256"></a><span class="hs-comment">-- | Located Haskell Quantified Type Variables</span><span>
</span><a name="line-257"></a><span class="hs-keyword">data</span><span> </span><a name="LHsQTyVars"><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier">LHsQTyVars</span></a></a><span> </span><a name="local-6989586621679641172"><a href="#local-6989586621679641172"><span class="hs-identifier">pass</span></a></a><span>   </span><span class="hs-comment">-- See Note [HsType binders]</span><span>
</span><a name="line-258"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsQTvs"><a href="HsTypes.html#HsQTvs"><span class="hs-identifier">HsQTvs</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="hsq_implicit"><a href="HsTypes.html#hsq_implicit"><span class="hs-identifier">hsq_implicit</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#PostRn"><span class="hs-identifier hs-type">PostRn</span></a><span> </span><a href="#local-6989586621679641172"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">[</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">]</span><span>
</span><a name="line-259"></a><span>                </span><span class="hs-comment">-- Implicit (dependent) variables</span><span>
</span><a name="line-260"></a><span>
</span><a name="line-261"></a><span>           </span><span class="hs-special">,</span><span> </span><a name="hsq_explicit"><a href="HsTypes.html#hsq_explicit"><span class="hs-identifier">hsq_explicit</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641172"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-262"></a><span>                </span><span class="hs-comment">-- Explicit variables, written by the user</span><span>
</span><a name="line-263"></a><span>                </span><span class="hs-comment">-- See Note [HsForAllTy tyvar binders]</span><span>
</span><a name="line-264"></a><span>
</span><a name="line-265"></a><span>           </span><span class="hs-special">,</span><span> </span><a name="hsq_dependent"><a href="HsTypes.html#hsq_dependent"><span class="hs-identifier">hsq_dependent</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#PostRn"><span class="hs-identifier hs-type">PostRn</span></a><span> </span><a href="#local-6989586621679641172"><span class="hs-identifier hs-type">pass</span></a><span> </span><a href="NameSet.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a><span>
</span><a name="line-266"></a><span>               </span><span class="hs-comment">-- Which members of hsq_explicit are dependent; that is,</span><span>
</span><a name="line-267"></a><span>               </span><span class="hs-comment">-- mentioned in the kind of a later hsq_explicit,</span><span>
</span><a name="line-268"></a><span>               </span><span class="hs-comment">-- or mentioned in a kind in the scope of this HsQTvs</span><span>
</span><a name="line-269"></a><span>               </span><span class="hs-comment">-- See Note [Dependent LHsQTyVars] in TcHsType</span><span>
</span><a name="line-270"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-271"></a><span>
</span><a name="line-272"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-6989586621679641514"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621679641514"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-273"></a><span>
</span><a name="line-274"></a><span class="hs-identifier">mkHsQTvs</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span>
</span><a name="line-275"></a><a name="mkHsQTvs"><a href="HsTypes.html#mkHsQTvs"><span class="hs-identifier">mkHsQTvs</span></a></a><span> </span><a name="local-6989586621679641270"><a href="#local-6989586621679641270"><span class="hs-identifier">tvs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsQTvs"><span class="hs-identifier hs-var">HsQTvs</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsq_implicit</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="PlaceHolder.html#PlaceHolder"><span class="hs-identifier hs-var">PlaceHolder</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">hsq_explicit</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641270"><span class="hs-identifier hs-var">tvs</span></a><span>
</span><a name="line-276"></a><span>                      </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hsq_dependent</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="PlaceHolder.html#PlaceHolder"><span class="hs-identifier hs-var">PlaceHolder</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-277"></a><span>
</span><a name="line-278"></a><span class="hs-identifier">hsQTvExplicit</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621679641264"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641264"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-279"></a><a name="hsQTvExplicit"><a href="HsTypes.html#hsQTvExplicit"><span class="hs-identifier">hsQTvExplicit</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">hsq_explicit</span><span>
</span><a name="line-280"></a><span>
</span><a name="line-281"></a><span class="hs-identifier">emptyLHsQTvs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span>
</span><a name="line-282"></a><a name="emptyLHsQTvs"><a href="HsTypes.html#emptyLHsQTvs"><span class="hs-identifier">emptyLHsQTvs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsQTvs"><span class="hs-identifier hs-var">HsQTvs</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><a href="NameSet.html#emptyNameSet"><span class="hs-identifier hs-var">emptyNameSet</span></a><span>
</span><a name="line-283"></a><span>
</span><a name="line-284"></a><span class="hs-identifier">isEmptyLHsQTvs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-285"></a><a name="isEmptyLHsQTvs"><a href="HsTypes.html#isEmptyLHsQTvs"><span class="hs-identifier">isEmptyLHsQTvs</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsQTvs"><span class="hs-identifier hs-var">HsQTvs</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-286"></a><span class="hs-identifier">isEmptyLHsQTvs</span><span> </span><span class="hs-identifier">_</span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-287"></a><span>
</span><a name="line-288"></a><span class="hs-comment">------------------------------------------------</span><span>
</span><a name="line-289"></a><span class="hs-comment">--            HsImplicitBndrs</span><span>
</span><a name="line-290"></a><span class="hs-comment">-- Used to quantify the implicit binders of a type</span><span>
</span><a name="line-291"></a><span class="hs-comment">--    * Implicit binders of a type signature (LHsSigType/LHsSigWcType)</span><span>
</span><a name="line-292"></a><span class="hs-comment">--    * Patterns in a type/data family instance (HsTyPats)</span><span>
</span><a name="line-293"></a><span>
</span><a name="line-294"></a><span class="hs-comment">-- | Haskell Implicit Binders</span><span>
</span><a name="line-295"></a><span class="hs-keyword">data</span><span> </span><a name="HsImplicitBndrs"><a href="HsTypes.html#HsImplicitBndrs"><span class="hs-identifier">HsImplicitBndrs</span></a></a><span> </span><a name="local-6989586621679641170"><a href="#local-6989586621679641170"><span class="hs-identifier">pass</span></a></a><span> </span><a name="local-6989586621679641171"><a href="#local-6989586621679641171"><span class="hs-identifier">thing</span></a></a><span>   </span><span class="hs-comment">-- See Note [HsType binders]</span><span>
</span><a name="line-296"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsIB"><a href="HsTypes.html#HsIB"><span class="hs-identifier">HsIB</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="hsib_vars"><a href="HsTypes.html#hsib_vars"><span class="hs-identifier">hsib_vars</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#PostRn"><span class="hs-identifier hs-type">PostRn</span></a><span> </span><a href="#local-6989586621679641170"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">[</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">]</span><span> </span><span class="hs-comment">-- Implicitly-bound kind &amp; type vars</span><span>
</span><a name="line-297"></a><span>         </span><span class="hs-special">,</span><span> </span><a name="hsib_body"><a href="HsTypes.html#hsib_body"><span class="hs-identifier">hsib_body</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679641171"><span class="hs-identifier hs-type">thing</span></a><span>              </span><span class="hs-comment">-- Main payload (type or list of types)</span><span>
</span><a name="line-298"></a><span>         </span><span class="hs-special">,</span><span> </span><a name="hsib_closed"><a href="HsTypes.html#hsib_closed"><span class="hs-identifier">hsib_closed</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#PostRn"><span class="hs-identifier hs-type">PostRn</span></a><span> </span><a href="#local-6989586621679641170"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-identifier hs-type">Bool</span><span> </span><span class="hs-comment">-- Taking the hsib_vars into account,</span><span>
</span><a name="line-299"></a><span>                                           </span><span class="hs-comment">-- is the payload closed? Used in</span><span>
</span><a name="line-300"></a><span>                                           </span><span class="hs-comment">-- TcHsType.decideKindGeneralisationPlan</span><span>
</span><a name="line-301"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-302"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-6989586621679641512"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><a href="#local-6989586621679641513"><span class="hs-identifier hs-type">thing</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsImplicitBndrs"><span class="hs-identifier hs-type">HsImplicitBndrs</span></a><span> </span><a href="#local-6989586621679641512"><span class="hs-identifier hs-type">pass</span></a><span> </span><a href="#local-6989586621679641513"><span class="hs-identifier hs-type">thing</span></a><span class="hs-special">)</span><span>
</span><a name="line-303"></a><span>
</span><a name="line-304"></a><span class="hs-comment">-- | Haskell Wildcard Binders</span><span>
</span><a name="line-305"></a><span class="hs-keyword">data</span><span> </span><a name="HsWildCardBndrs"><a href="HsTypes.html#HsWildCardBndrs"><span class="hs-identifier">HsWildCardBndrs</span></a></a><span> </span><a name="local-6989586621679641168"><a href="#local-6989586621679641168"><span class="hs-identifier">pass</span></a></a><span> </span><a name="local-6989586621679641169"><a href="#local-6989586621679641169"><span class="hs-identifier">thing</span></a></a><span>
</span><a name="line-306"></a><span>    </span><span class="hs-comment">-- See Note [HsType binders]</span><span>
</span><a name="line-307"></a><span>    </span><span class="hs-comment">-- See Note [The wildcard story for types]</span><span>
</span><a name="line-308"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsWC"><a href="HsTypes.html#HsWC"><span class="hs-identifier">HsWC</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="hswc_wcs"><a href="HsTypes.html#hswc_wcs"><span class="hs-identifier">hswc_wcs</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#PostRn"><span class="hs-identifier hs-type">PostRn</span></a><span> </span><a href="#local-6989586621679641168"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">[</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">]</span><span>
</span><a name="line-309"></a><span>                </span><span class="hs-comment">-- Wild cards, both named and anonymous</span><span>
</span><a name="line-310"></a><span>                </span><span class="hs-comment">-- after the renamer</span><span>
</span><a name="line-311"></a><span>
</span><a name="line-312"></a><span>         </span><span class="hs-special">,</span><span> </span><a name="hswc_body"><a href="HsTypes.html#hswc_body"><span class="hs-identifier">hswc_body</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679641169"><span class="hs-identifier hs-type">thing</span></a><span>
</span><a name="line-313"></a><span>                </span><span class="hs-comment">-- Main payload (type or list of types)</span><span>
</span><a name="line-314"></a><span>                </span><span class="hs-comment">-- If there is an extra-constraints wildcard,</span><span>
</span><a name="line-315"></a><span>                </span><span class="hs-comment">-- it's still there in the hsc_body.</span><span>
</span><a name="line-316"></a><span>    </span><span class="hs-special">}</span><span>
</span><a name="line-317"></a><span>
</span><a name="line-318"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-6989586621679641510"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><a href="#local-6989586621679641511"><span class="hs-identifier hs-type">thing</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsWildCardBndrs"><span class="hs-identifier hs-type">HsWildCardBndrs</span></a><span> </span><a href="#local-6989586621679641510"><span class="hs-identifier hs-type">pass</span></a><span> </span><a href="#local-6989586621679641511"><span class="hs-identifier hs-type">thing</span></a><span class="hs-special">)</span><span>
</span><a name="line-319"></a><span>
</span><a name="line-320"></a><span class="hs-comment">-- | Located Haskell Signature Type</span><span>
</span><a name="line-321"></a><span class="hs-keyword">type</span><span> </span><a name="LHsSigType"><a href="HsTypes.html#LHsSigType"><span class="hs-identifier">LHsSigType</span></a></a><span>   </span><a name="local-6989586621679641167"><a href="#local-6989586621679641167"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsImplicitBndrs"><span class="hs-identifier hs-type">HsImplicitBndrs</span></a><span> </span><a href="#local-6989586621679641167"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641167"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- Implicit only</span><span>
</span><a name="line-322"></a><span>
</span><a name="line-323"></a><span class="hs-comment">-- | Located Haskell Wildcard Type</span><span>
</span><a name="line-324"></a><span class="hs-keyword">type</span><span> </span><a name="LHsWcType"><a href="HsTypes.html#LHsWcType"><span class="hs-identifier">LHsWcType</span></a></a><span>    </span><a name="local-6989586621679641166"><a href="#local-6989586621679641166"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsWildCardBndrs"><span class="hs-identifier hs-type">HsWildCardBndrs</span></a><span> </span><a href="#local-6989586621679641166"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641166"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- Wildcard only</span><span>
</span><a name="line-325"></a><span>
</span><a name="line-326"></a><span class="hs-comment">-- | Located Haskell Signature Wildcard Type</span><span>
</span><a name="line-327"></a><span class="hs-keyword">type</span><span> </span><a name="LHsSigWcType"><a href="HsTypes.html#LHsSigWcType"><span class="hs-identifier">LHsSigWcType</span></a></a><span> </span><a name="local-6989586621679641165"><a href="#local-6989586621679641165"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsWildCardBndrs"><span class="hs-identifier hs-type">HsWildCardBndrs</span></a><span> </span><a href="#local-6989586621679641165"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="#local-6989586621679641165"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Both</span><span>
</span><a name="line-328"></a><span>
</span><a name="line-329"></a><span class="hs-comment">-- See Note [Representing type signatures]</span><span>
</span><a name="line-330"></a><span>
</span><a name="line-331"></a><span class="hs-identifier">hsImplicitBody</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#HsImplicitBndrs"><span class="hs-identifier hs-type">HsImplicitBndrs</span></a><span> </span><a href="#local-6989586621679641262"><span class="hs-identifier hs-type">pass</span></a><span> </span><a href="#local-6989586621679641263"><span class="hs-identifier hs-type">thing</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679641263"><span class="hs-identifier hs-type">thing</span></a><span>
</span><a name="line-332"></a><a name="hsImplicitBody"><a href="HsTypes.html#hsImplicitBody"><span class="hs-identifier">hsImplicitBody</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641271"><a href="#local-6989586621679641271"><span class="hs-identifier">body</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641271"><span class="hs-identifier hs-var">body</span></a><span>
</span><a name="line-333"></a><span>
</span><a name="line-334"></a><span class="hs-identifier">hsSigType</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="#local-6989586621679641261"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641261"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-335"></a><a name="hsSigType"><a href="HsTypes.html#hsSigType"><span class="hs-identifier">hsSigType</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#hsImplicitBody"><span class="hs-identifier hs-var">hsImplicitBody</span></a><span>
</span><a name="line-336"></a><span>
</span><a name="line-337"></a><span class="hs-identifier">hsSigWcType</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigWcType"><span class="hs-identifier hs-type">LHsSigWcType</span></a><span> </span><a href="#local-6989586621679641260"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641260"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-338"></a><a name="hsSigWcType"><a href="HsTypes.html#hsSigWcType"><span class="hs-identifier">hsSigWcType</span></a></a><span> </span><a name="local-6989586621679641272"><a href="#local-6989586621679641272"><span class="hs-identifier">sig_ty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">hswc_body</span><span> </span><a href="#local-6989586621679641272"><span class="hs-identifier hs-var">sig_ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-339"></a><span>
</span><a name="line-340"></a><span class="hs-identifier">dropWildCards</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigWcType"><span class="hs-identifier hs-type">LHsSigWcType</span></a><span> </span><a href="#local-6989586621679641259"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="#local-6989586621679641259"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-341"></a><span class="hs-comment">-- Drop the wildcard part of a LHsSigWcType</span><span>
</span><a name="line-342"></a><a name="dropWildCards"><a href="HsTypes.html#dropWildCards"><span class="hs-identifier">dropWildCards</span></a></a><span> </span><a name="local-6989586621679641273"><a href="#local-6989586621679641273"><span class="hs-identifier">sig_ty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">hswc_body</span><span> </span><a href="#local-6989586621679641273"><span class="hs-identifier hs-var">sig_ty</span></a><span>
</span><a name="line-343"></a><span>
</span><a name="line-344"></a><span class="hs-comment">{- Note [Representing type signatures]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
HsSigType is used to represent an explicit user type signature
such as   f :: a -&gt; a
     or   g (x :: a -&gt; a) = x

A HsSigType is just a HsImplicitBndrs wrapping a LHsType.
 * The HsImplicitBndrs binds the /implicitly/ quantified tyvars
 * The LHsType binds the /explicitly/ quantified tyvars

E.g. For a signature like
   f :: forall (a::k). blah
we get
   HsIB { hsib_vars = [k]
        , hsib_body = HsForAllTy { hst_bndrs = [(a::*)]
                                 , hst_body = blah }
The implicit kind variable 'k' is bound by the HsIB;
the explicitly forall'd tyvar 'a' is bound by the HsForAllTy
-}</span><span>
</span><a name="line-363"></a><span>
</span><a name="line-364"></a><span class="hs-identifier">mkHsImplicitBndrs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679641258"><span class="hs-identifier hs-type">thing</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#HsImplicitBndrs"><span class="hs-identifier hs-type">HsImplicitBndrs</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><a href="#local-6989586621679641258"><span class="hs-identifier hs-type">thing</span></a><span>
</span><a name="line-365"></a><a name="mkHsImplicitBndrs"><a href="HsTypes.html#mkHsImplicitBndrs"><span class="hs-identifier">mkHsImplicitBndrs</span></a></a><span> </span><a name="local-6989586621679641274"><a href="#local-6989586621679641274"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_body</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641274"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-366"></a><span>                           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hsib_vars</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="PlaceHolder.html#PlaceHolder"><span class="hs-identifier hs-var">PlaceHolder</span></a><span>
</span><a name="line-367"></a><span>                           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hsib_closed</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="PlaceHolder.html#PlaceHolder"><span class="hs-identifier hs-var">PlaceHolder</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-368"></a><span>
</span><a name="line-369"></a><span class="hs-identifier">mkHsWildCardBndrs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679641257"><span class="hs-identifier hs-type">thing</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#HsWildCardBndrs"><span class="hs-identifier hs-type">HsWildCardBndrs</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span> </span><a href="#local-6989586621679641257"><span class="hs-identifier hs-type">thing</span></a><span>
</span><a name="line-370"></a><a name="mkHsWildCardBndrs"><a href="HsTypes.html#mkHsWildCardBndrs"><span class="hs-identifier">mkHsWildCardBndrs</span></a></a><span> </span><a name="local-6989586621679641275"><a href="#local-6989586621679641275"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsWC"><span class="hs-identifier hs-var">HsWC</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hswc_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641275"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-371"></a><span>                           </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hswc_wcs</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="PlaceHolder.html#PlaceHolder"><span class="hs-identifier hs-var">PlaceHolder</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-372"></a><span>
</span><a name="line-373"></a><span class="hs-comment">-- Add empty binders.  This is a bit suspicious; what if</span><span>
</span><a name="line-374"></a><span class="hs-comment">-- the wrapped thing had free type variables?</span><span>
</span><a name="line-375"></a><span class="hs-identifier">mkEmptyImplicitBndrs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679641256"><span class="hs-identifier hs-type">thing</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#HsImplicitBndrs"><span class="hs-identifier hs-type">HsImplicitBndrs</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><a href="#local-6989586621679641256"><span class="hs-identifier hs-type">thing</span></a><span>
</span><a name="line-376"></a><a name="mkEmptyImplicitBndrs"><a href="HsTypes.html#mkEmptyImplicitBndrs"><span class="hs-identifier">mkEmptyImplicitBndrs</span></a></a><span> </span><a name="local-6989586621679641276"><a href="#local-6989586621679641276"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_body</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641276"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-377"></a><span>                              </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hsib_vars</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-378"></a><span>                              </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hsib_closed</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-379"></a><span>
</span><a name="line-380"></a><span class="hs-identifier">mkEmptyWildCardBndrs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="#local-6989586621679641255"><span class="hs-identifier hs-type">thing</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#HsWildCardBndrs"><span class="hs-identifier hs-type">HsWildCardBndrs</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><a href="#local-6989586621679641255"><span class="hs-identifier hs-type">thing</span></a><span>
</span><a name="line-381"></a><a name="mkEmptyWildCardBndrs"><a href="HsTypes.html#mkEmptyWildCardBndrs"><span class="hs-identifier">mkEmptyWildCardBndrs</span></a></a><span> </span><a name="local-6989586621679641277"><a href="#local-6989586621679641277"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsWC"><span class="hs-identifier hs-var">HsWC</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hswc_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641277"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-382"></a><span>                              </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hswc_wcs</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><a name="line-383"></a><span>
</span><a name="line-384"></a><span>
</span><a name="line-385"></a><span class="hs-comment">--------------------------------------------------</span><span>
</span><a name="line-386"></a><span class="hs-comment">-- | These names are used early on to store the names of implicit</span><span>
</span><a name="line-387"></a><span class="hs-comment">-- parameters.  They completely disappear after type-checking.</span><span>
</span><a name="line-388"></a><span class="hs-keyword">newtype</span><span> </span><a name="HsIPName"><a href="HsTypes.html#HsIPName"><span class="hs-identifier">HsIPName</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="HsIPName"><a href="HsTypes.html#HsIPName"><span class="hs-identifier">HsIPName</span></a></a><span> </span><a href="FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a><span>
</span><a name="line-389"></a><span>  </span><span class="hs-keyword">deriving</span><span class="hs-special">(</span><span> </span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">)</span><span>
</span><a name="line-390"></a><span>
</span><a name="line-391"></a><span class="hs-identifier">hsIPNameFS</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#HsIPName"><span class="hs-identifier hs-type">HsIPName</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a><span>
</span><a name="line-392"></a><a name="hsIPNameFS"><a href="HsTypes.html#hsIPNameFS"><span class="hs-identifier">hsIPNameFS</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIPName"><span class="hs-identifier hs-var">HsIPName</span></a><span> </span><a name="local-6989586621679641278"><a href="#local-6989586621679641278"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641278"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-393"></a><span>
</span><a name="line-394"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="HsTypes.html#HsIPName"><span class="hs-identifier hs-type">HsIPName</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-395"></a><span>    </span><a name="local-8214565720323905585"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIPName"><span class="hs-identifier hs-var">HsIPName</span></a><span> </span><a name="local-6989586621679641212"><a href="#local-6989586621679641212"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'?'</span><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#ftext"><span class="hs-identifier hs-var">ftext</span></a><span> </span><a href="#local-6989586621679641212"><span class="hs-identifier hs-var">n</span></a><span> </span><span class="hs-comment">-- Ordinary implicit parameters</span><span>
</span><a name="line-396"></a><span>
</span><a name="line-397"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><a href="HsTypes.html#HsIPName"><span class="hs-identifier hs-type">HsIPName</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-398"></a><span>    </span><a name="local-8214565720323905575"><a href="Outputable.html#pprBndr"><span class="hs-identifier">pprBndr</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641209"><a href="#local-6989586621679641209"><span class="hs-identifier">n</span></a></a><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641209"><span class="hs-identifier hs-var">n</span></a><span>         </span><span class="hs-comment">-- Simple for now</span><span>
</span><a name="line-399"></a><span>    </span><a name="local-8214565720323905577"><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier">pprInfixOcc</span></a></a><span>  </span><a name="local-6989586621679641210"><a href="#local-6989586621679641210"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641210"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-400"></a><span>    </span><a name="local-8214565720323905576"><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier">pprPrefixOcc</span></a></a><span> </span><a name="local-6989586621679641211"><a href="#local-6989586621679641211"><span class="hs-identifier">n</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641211"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-401"></a><span>
</span><a name="line-402"></a><span class="hs-comment">--------------------------------------------------</span><span>
</span><a name="line-403"></a><span>
</span><a name="line-404"></a><span class="hs-comment">-- | Haskell Type Variable Binder</span><span>
</span><a name="line-405"></a><span class="hs-keyword">data</span><span> </span><a name="HsTyVarBndr"><a href="HsTypes.html#HsTyVarBndr"><span class="hs-identifier">HsTyVarBndr</span></a></a><span> </span><a name="local-6989586621679641164"><a href="#local-6989586621679641164"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-406"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="UserTyVar"><a href="HsTypes.html#UserTyVar"><span class="hs-identifier">UserTyVar</span></a></a><span>        </span><span class="hs-comment">-- no explicit kinding</span><span>
</span><a name="line-407"></a><span>         </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641164"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-408"></a><span>        </span><span class="hs-comment">-- See Note [Located RdrNames] in HsExpr</span><span>
</span><a name="line-409"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="KindedTyVar"><a href="HsTypes.html#KindedTyVar"><span class="hs-identifier">KindedTyVar</span></a></a><span>
</span><a name="line-410"></a><span>         </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641164"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-411"></a><span>         </span><span class="hs-special">(</span><a href="HsTypes.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a><span> </span><a href="#local-6989586621679641164"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- The user-supplied kind signature</span><span>
</span><a name="line-412"></a><span>        </span><span class="hs-comment">-- ^</span><span>
</span><a name="line-413"></a><span>        </span><span class="hs-comment">--  - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen',</span><span>
</span><a name="line-414"></a><span>        </span><span class="hs-comment">--          'ApiAnnotation.AnnDcolon', 'ApiAnnotation.AnnClose'</span><span>
</span><a name="line-415"></a><span>
</span><a name="line-416"></a><span>        </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-417"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-6989586621679641509"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVarBndr"><span class="hs-identifier hs-type">HsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641509"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-418"></a><span>
</span><a name="line-419"></a><span class="hs-comment">-- | Does this 'HsTyVarBndr' come with an explicit kind annotation?</span><span>
</span><a name="line-420"></a><span class="hs-identifier">isHsKindedTyVar</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#HsTyVarBndr"><span class="hs-identifier hs-type">HsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641254"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-421"></a><a name="isHsKindedTyVar"><a href="HsTypes.html#isHsKindedTyVar"><span class="hs-identifier">isHsKindedTyVar</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-422"></a><span class="hs-identifier">isHsKindedTyVar</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#KindedTyVar"><span class="hs-identifier hs-var">KindedTyVar</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-423"></a><span>
</span><a name="line-424"></a><span class="hs-comment">-- | Do all type variables in this 'LHsQTyVars' come with kind annotations?</span><span>
</span><a name="line-425"></a><span class="hs-identifier">hsTvbAllKinded</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621679641253"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-426"></a><a name="hsTvbAllKinded"><a href="HsTypes.html#hsTvbAllKinded"><span class="hs-identifier">hsTvbAllKinded</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Foldable.html#all"><span class="hs-identifier hs-var">all</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#isHsKindedTyVar"><span class="hs-identifier hs-var">isHsKindedTyVar</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="HsTypes.html#hsQTvExplicit"><span class="hs-identifier hs-var">hsQTvExplicit</span></a><span>
</span><a name="line-427"></a><span>
</span><a name="line-428"></a><span class="hs-comment">-- | Haskell Type</span><span>
</span><a name="line-429"></a><span class="hs-keyword">data</span><span> </span><a name="HsType"><a href="HsTypes.html#HsType"><span class="hs-identifier">HsType</span></a></a><span> </span><a name="local-6989586621679641163"><a href="#local-6989586621679641163"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-430"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsForAllTy"><a href="HsTypes.html#HsForAllTy"><span class="hs-identifier">HsForAllTy</span></a></a><span>   </span><span class="hs-comment">-- See Note [HsType binders]</span><span>
</span><a name="line-431"></a><span>      </span><span class="hs-special">{</span><span> </span><a name="hst_bndrs"><a href="HsTypes.html#hst_bndrs"><span class="hs-identifier">hst_bndrs</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-432"></a><span>                                       </span><span class="hs-comment">-- Explicit, user-supplied 'forall a b c'</span><span>
</span><a name="line-433"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="hst_body"><a href="HsTypes.html#hst_body"><span class="hs-identifier">hst_body</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span>      </span><span class="hs-comment">-- body type</span><span>
</span><a name="line-434"></a><span>      </span><span class="hs-special">}</span><span>
</span><a name="line-435"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnForall',</span><span>
</span><a name="line-436"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnDot','ApiAnnotation.AnnDarrow'</span><span>
</span><a name="line-437"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-438"></a><span>
</span><a name="line-439"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsQualTy"><a href="HsTypes.html#HsQualTy"><span class="hs-identifier">HsQualTy</span></a></a><span>   </span><span class="hs-comment">-- See Note [HsType binders]</span><span>
</span><a name="line-440"></a><span>      </span><span class="hs-special">{</span><span> </span><a name="hst_ctxt"><a href="HsTypes.html#hst_ctxt"><span class="hs-identifier">hst_ctxt</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span>       </span><span class="hs-comment">-- Context C =&gt; blah</span><span>
</span><a name="line-441"></a><span>      </span><span class="hs-special">,</span><span> </span><a name="hst_body"><a href="HsTypes.html#hst_body"><span class="hs-identifier">hst_body</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-442"></a><span>
</span><a name="line-443"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsTyVar"><a href="HsTypes.html#HsTyVar"><span class="hs-identifier">HsTyVar</span></a></a><span>             </span><a href="HsTypes.html#Promoted"><span class="hs-identifier hs-type">Promoted</span></a><span> </span><span class="hs-comment">-- whether explicitly promoted, for the pretty</span><span>
</span><a name="line-444"></a><span>                                 </span><span class="hs-comment">-- printer</span><span>
</span><a name="line-445"></a><span>                        </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-446"></a><span>                  </span><span class="hs-comment">-- Type variable, type constructor, or data constructor</span><span>
</span><a name="line-447"></a><span>                  </span><span class="hs-comment">-- see Note [Promotions (HsTyVar)]</span><span>
</span><a name="line-448"></a><span>                  </span><span class="hs-comment">-- See Note [Located RdrNames] in HsExpr</span><span>
</span><a name="line-449"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : None</span><span>
</span><a name="line-450"></a><span>
</span><a name="line-451"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-452"></a><span>
</span><a name="line-453"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsAppsTy"><a href="HsTypes.html#HsAppsTy"><span class="hs-identifier">HsAppsTy</span></a></a><span>            </span><span class="hs-special">[</span><a href="HsTypes.html#LHsAppType"><span class="hs-identifier hs-type">LHsAppType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-comment">-- Used only before renaming,</span><span>
</span><a name="line-454"></a><span>                                          </span><span class="hs-comment">-- Note [HsAppsTy]</span><span>
</span><a name="line-455"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : None</span><span>
</span><a name="line-456"></a><span>
</span><a name="line-457"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsAppTy"><a href="HsTypes.html#HsAppTy"><span class="hs-identifier">HsAppTy</span></a></a><span>             </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-458"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-459"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : None</span><span>
</span><a name="line-460"></a><span>
</span><a name="line-461"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-462"></a><span>
</span><a name="line-463"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsFunTy"><a href="HsTypes.html#HsFunTy"><span class="hs-identifier">HsFunTy</span></a></a><span>             </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- function type</span><span>
</span><a name="line-464"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-465"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnRarrow',</span><span>
</span><a name="line-466"></a><span>
</span><a name="line-467"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-468"></a><span>
</span><a name="line-469"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsListTy"><a href="HsTypes.html#HsListTy"><span class="hs-identifier">HsListTy</span></a></a><span>            </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- Element type</span><span>
</span><a name="line-470"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'['@,</span><span>
</span><a name="line-471"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @']'@</span><span>
</span><a name="line-472"></a><span>
</span><a name="line-473"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-474"></a><span>
</span><a name="line-475"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsPArrTy"><a href="HsTypes.html#HsPArrTy"><span class="hs-identifier">HsPArrTy</span></a></a><span>            </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- Elem. type of parallel array: [:t:]</span><span>
</span><a name="line-476"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'[:'@,</span><span>
</span><a name="line-477"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @':]'@</span><span>
</span><a name="line-478"></a><span>
</span><a name="line-479"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-480"></a><span>
</span><a name="line-481"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsTupleTy"><a href="HsTypes.html#HsTupleTy"><span class="hs-identifier">HsTupleTy</span></a></a><span>           </span><a href="HsTypes.html#HsTupleSort"><span class="hs-identifier hs-type">HsTupleSort</span></a><span>
</span><a name="line-482"></a><span>                        </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- Element types (length gives arity)</span><span>
</span><a name="line-483"></a><span>    </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'(' or '(#'@,</span><span>
</span><a name="line-484"></a><span>    </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @')' or '#)'@</span><span>
</span><a name="line-485"></a><span>
</span><a name="line-486"></a><span>    </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-487"></a><span>
</span><a name="line-488"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsSumTy"><a href="HsTypes.html#HsSumTy"><span class="hs-identifier">HsSumTy</span></a></a><span>             </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- Element types (length gives arity)</span><span>
</span><a name="line-489"></a><span>    </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'(#'@,</span><span>
</span><a name="line-490"></a><span>    </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' '#)'@</span><span>
</span><a name="line-491"></a><span>
</span><a name="line-492"></a><span>    </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-493"></a><span>
</span><a name="line-494"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsOpTy"><a href="HsTypes.html#HsOpTy"><span class="hs-identifier">HsOpTy</span></a></a><span>              </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-495"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : None</span><span>
</span><a name="line-496"></a><span>
</span><a name="line-497"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-498"></a><span>
</span><a name="line-499"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsParTy"><a href="HsTypes.html#HsParTy"><span class="hs-identifier">HsParTy</span></a></a><span>             </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- See Note [Parens in HsSyn] in HsExpr</span><span>
</span><a name="line-500"></a><span>        </span><span class="hs-comment">-- Parenthesis preserved for the precedence re-arrangement in RnTypes</span><span>
</span><a name="line-501"></a><span>        </span><span class="hs-comment">-- It's important that a * (b + c) doesn't get rearranged to (a*b) + c!</span><span>
</span><a name="line-502"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'('@,</span><span>
</span><a name="line-503"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @')'@</span><span>
</span><a name="line-504"></a><span>
</span><a name="line-505"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-506"></a><span>
</span><a name="line-507"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsIParamTy"><a href="HsTypes.html#HsIParamTy"><span class="hs-identifier">HsIParamTy</span></a></a><span>          </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="HsTypes.html#HsIPName"><span class="hs-identifier hs-type">HsIPName</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- (?x :: ty)</span><span>
</span><a name="line-508"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- Implicit parameters as they occur in</span><span>
</span><a name="line-509"></a><span>                                         </span><span class="hs-comment">-- contexts</span><span>
</span><a name="line-510"></a><span>      </span><span class="hs-comment">-- ^</span><span>
</span><a name="line-511"></a><span>      </span><span class="hs-comment">-- &gt; (?x :: ty)</span><span>
</span><a name="line-512"></a><span>      </span><span class="hs-comment">--</span><span>
</span><a name="line-513"></a><span>      </span><span class="hs-comment">-- - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnDcolon'</span><span>
</span><a name="line-514"></a><span>
</span><a name="line-515"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-516"></a><span>
</span><a name="line-517"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsEqTy"><a href="HsTypes.html#HsEqTy"><span class="hs-identifier">HsEqTy</span></a></a><span>              </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- ty1 ~ ty2</span><span>
</span><a name="line-518"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- Always allowed even without</span><span>
</span><a name="line-519"></a><span>                                         </span><span class="hs-comment">-- TypeOperators, and has special</span><span>
</span><a name="line-520"></a><span>                                         </span><span class="hs-comment">-- kinding rule</span><span>
</span><a name="line-521"></a><span>      </span><span class="hs-comment">-- ^</span><span>
</span><a name="line-522"></a><span>      </span><span class="hs-comment">-- &gt; ty1 ~ ty2</span><span>
</span><a name="line-523"></a><span>      </span><span class="hs-comment">--</span><span>
</span><a name="line-524"></a><span>      </span><span class="hs-comment">-- - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnTilde'</span><span>
</span><a name="line-525"></a><span>
</span><a name="line-526"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-527"></a><span>
</span><a name="line-528"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsKindSig"><a href="HsTypes.html#HsKindSig"><span class="hs-identifier">HsKindSig</span></a></a><span>           </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- (ty :: kind)</span><span>
</span><a name="line-529"></a><span>                        </span><span class="hs-special">(</span><a href="HsTypes.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- A type with a kind signature</span><span>
</span><a name="line-530"></a><span>      </span><span class="hs-comment">-- ^</span><span>
</span><a name="line-531"></a><span>      </span><span class="hs-comment">-- &gt; (ty :: kind)</span><span>
</span><a name="line-532"></a><span>      </span><span class="hs-comment">--</span><span>
</span><a name="line-533"></a><span>      </span><span class="hs-comment">-- - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'('@,</span><span>
</span><a name="line-534"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnDcolon','ApiAnnotation.AnnClose' @')'@</span><span>
</span><a name="line-535"></a><span>
</span><a name="line-536"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-537"></a><span>
</span><a name="line-538"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsSpliceTy"><a href="HsTypes.html#HsSpliceTy"><span class="hs-identifier">HsSpliceTy</span></a></a><span>          </span><span class="hs-special">(</span><a href="HsExpr.html#HsSplice"><span class="hs-identifier hs-type">HsSplice</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- Includes quasi-quotes</span><span>
</span><a name="line-539"></a><span>                        </span><span class="hs-special">(</span><a href="HsExtension.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span> </span><a href="TyCoRep.html#Kind"><span class="hs-identifier hs-type">Kind</span></a><span class="hs-special">)</span><span>
</span><a name="line-540"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'$('@,</span><span>
</span><a name="line-541"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @')'@</span><span>
</span><a name="line-542"></a><span>
</span><a name="line-543"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-544"></a><span>
</span><a name="line-545"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsDocTy"><a href="HsTypes.html#HsDocTy"><span class="hs-identifier">HsDocTy</span></a></a><span>             </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><a href="HsDoc.html#LHsDocString"><span class="hs-identifier hs-type">LHsDocString</span></a><span> </span><span class="hs-comment">-- A documented type</span><span>
</span><a name="line-546"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : None</span><span>
</span><a name="line-547"></a><span>
</span><a name="line-548"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-549"></a><span>
</span><a name="line-550"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsBangTy"><a href="HsTypes.html#HsBangTy"><span class="hs-identifier">HsBangTy</span></a></a><span>    </span><a href="DataCon.html#HsSrcBang"><span class="hs-identifier hs-type">HsSrcBang</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- Bang-style type annotations</span><span>
</span><a name="line-551"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' :</span><span>
</span><a name="line-552"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnOpen' @'{-\# UNPACK' or '{-\# NOUNPACK'@,</span><span>
</span><a name="line-553"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @'#-}'@</span><span>
</span><a name="line-554"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnBang' @\'!\'@</span><span>
</span><a name="line-555"></a><span>
</span><a name="line-556"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-557"></a><span>
</span><a name="line-558"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsRecTy"><a href="HsTypes.html#HsRecTy"><span class="hs-identifier">HsRecTy</span></a></a><span>     </span><span class="hs-special">[</span><a href="HsTypes.html#LConDeclField"><span class="hs-identifier hs-type">LConDeclField</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- Only in data type declarations</span><span>
</span><a name="line-559"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @'{'@,</span><span>
</span><a name="line-560"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @'}'@</span><span>
</span><a name="line-561"></a><span>
</span><a name="line-562"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-563"></a><span>
</span><a name="line-564"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsCoreTy"><a href="HsTypes.html#HsCoreTy"><span class="hs-identifier">HsCoreTy</span></a></a><span> </span><a href="TyCoRep.html#Type"><span class="hs-identifier hs-type">Type</span></a><span>       </span><span class="hs-comment">-- An escape hatch for tunnelling a *closed*</span><span>
</span><a name="line-565"></a><span>                        </span><span class="hs-comment">-- Core Type through HsSyn.</span><span>
</span><a name="line-566"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : None</span><span>
</span><a name="line-567"></a><span>
</span><a name="line-568"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-569"></a><span>
</span><a name="line-570"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsExplicitListTy"><a href="HsTypes.html#HsExplicitListTy"><span class="hs-identifier">HsExplicitListTy</span></a></a><span>       </span><span class="hs-comment">-- A promoted explicit list</span><span>
</span><a name="line-571"></a><span>        </span><a href="HsTypes.html#Promoted"><span class="hs-identifier hs-type">Promoted</span></a><span>           </span><span class="hs-comment">-- whether explcitly promoted, for pretty printer</span><span>
</span><a name="line-572"></a><span>        </span><span class="hs-special">(</span><a href="HsExtension.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span> </span><a href="TyCoRep.html#Kind"><span class="hs-identifier hs-type">Kind</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- See Note [Promoted lists and tuples]</span><span>
</span><a name="line-573"></a><span>        </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-574"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @&quot;'[&quot;@,</span><span>
</span><a name="line-575"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @']'@</span><span>
</span><a name="line-576"></a><span>
</span><a name="line-577"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-578"></a><span>
</span><a name="line-579"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsExplicitTupleTy"><a href="HsTypes.html#HsExplicitTupleTy"><span class="hs-identifier">HsExplicitTupleTy</span></a></a><span>      </span><span class="hs-comment">-- A promoted explicit tuple</span><span>
</span><a name="line-580"></a><span>        </span><span class="hs-special">[</span><a href="HsExtension.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span> </span><a href="TyCoRep.html#Kind"><span class="hs-identifier hs-type">Kind</span></a><span class="hs-special">]</span><span> </span><span class="hs-comment">-- See Note [Promoted lists and tuples]</span><span>
</span><a name="line-581"></a><span>        </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-582"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnOpen' @&quot;'(&quot;@,</span><span>
</span><a name="line-583"></a><span>      </span><span class="hs-comment">--         'ApiAnnotation.AnnClose' @')'@</span><span>
</span><a name="line-584"></a><span>
</span><a name="line-585"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-586"></a><span>
</span><a name="line-587"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsTyLit"><a href="HsTypes.html#HsTyLit"><span class="hs-identifier">HsTyLit</span></a></a><span> </span><a href="HsTypes.html#HsTyLit"><span class="hs-identifier hs-type">HsTyLit</span></a><span>      </span><span class="hs-comment">-- A promoted numeric literal.</span><span>
</span><a name="line-588"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : None</span><span>
</span><a name="line-589"></a><span>
</span><a name="line-590"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-591"></a><span>
</span><a name="line-592"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsWildCardTy"><a href="HsTypes.html#HsWildCardTy"><span class="hs-identifier">HsWildCardTy</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsWildCardInfo"><span class="hs-identifier hs-type">HsWildCardInfo</span></a><span> </span><a href="#local-6989586621679641163"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- A type wildcard</span><span>
</span><a name="line-593"></a><span>      </span><span class="hs-comment">-- See Note [The wildcard story for types]</span><span>
</span><a name="line-594"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : None</span><span>
</span><a name="line-595"></a><span>
</span><a name="line-596"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-597"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-6989586621679641508"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><a href="#local-6989586621679641508"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-598"></a><span>
</span><a name="line-599"></a><span class="hs-comment">-- Note [Literal source text] in BasicTypes for SourceText fields in</span><span>
</span><a name="line-600"></a><span class="hs-comment">-- the following</span><span>
</span><a name="line-601"></a><span class="hs-comment">-- | Haskell Type Literal</span><span>
</span><a name="line-602"></a><span class="hs-keyword">data</span><span> </span><a name="HsTyLit"><a href="HsTypes.html#HsTyLit"><span class="hs-identifier">HsTyLit</span></a></a><span>
</span><a name="line-603"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsNumTy"><a href="HsTypes.html#HsNumTy"><span class="hs-identifier">HsNumTy</span></a></a><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span> </span><span class="hs-identifier hs-type">Integer</span><span>
</span><a name="line-604"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsStrTy"><a href="HsTypes.html#HsStrTy"><span class="hs-identifier">HsStrTy</span></a></a><span> </span><a href="BasicTypes.html#SourceText"><span class="hs-identifier hs-type">SourceText</span></a><span> </span><a href="FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a><span>
</span><a name="line-605"></a><span>    </span><span class="hs-keyword">deriving</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span>
</span><a name="line-606"></a><span>
</span><a name="line-607"></a><span class="hs-keyword">newtype</span><span> </span><a name="HsWildCardInfo"><a href="HsTypes.html#HsWildCardInfo"><span class="hs-identifier">HsWildCardInfo</span></a></a><span> </span><a name="local-6989586621679641162"><a href="#local-6989586621679641162"><span class="hs-identifier">pass</span></a></a><span>      </span><span class="hs-comment">-- See Note [The wildcard story for types]</span><span>
</span><a name="line-608"></a><span>    </span><span class="hs-glyph">=</span><span> </span><a name="AnonWildCard"><a href="HsTypes.html#AnonWildCard"><span class="hs-identifier">AnonWildCard</span></a></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#PostRn"><span class="hs-identifier hs-type">PostRn</span></a><span> </span><a href="#local-6989586621679641162"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-609"></a><span>      </span><span class="hs-comment">-- A anonymous wild card ('_'). A fresh Name is generated for</span><span>
</span><a name="line-610"></a><span>      </span><span class="hs-comment">-- each individual anonymous wildcard during renaming</span><span>
</span><a name="line-611"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-6989586621679641507"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsWildCardInfo"><span class="hs-identifier hs-type">HsWildCardInfo</span></a><span> </span><a href="#local-6989586621679641507"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-612"></a><span>
</span><a name="line-613"></a><span class="hs-comment">-- | Located Haskell Application Type</span><span>
</span><a name="line-614"></a><span class="hs-keyword">type</span><span> </span><a name="LHsAppType"><a href="HsTypes.html#LHsAppType"><span class="hs-identifier">LHsAppType</span></a></a><span> </span><a name="local-6989586621679641161"><a href="#local-6989586621679641161"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppType"><span class="hs-identifier hs-type">HsAppType</span></a><span> </span><a href="#local-6989586621679641161"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-615"></a><span>      </span><span class="hs-comment">-- ^ 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnSimpleQuote'</span><span>
</span><a name="line-616"></a><span>
</span><a name="line-617"></a><span class="hs-comment">-- | Haskell Application Type</span><span>
</span><a name="line-618"></a><span class="hs-keyword">data</span><span> </span><a name="HsAppType"><a href="HsTypes.html#HsAppType"><span class="hs-identifier">HsAppType</span></a></a><span> </span><a name="local-6989586621679641160"><a href="#local-6989586621679641160"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-619"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="HsAppInfix"><a href="HsTypes.html#HsAppInfix"><span class="hs-identifier">HsAppInfix</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641160"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- either a symbol or an id in backticks</span><span>
</span><a name="line-620"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="HsAppPrefix"><a href="HsTypes.html#HsAppPrefix"><span class="hs-identifier">HsAppPrefix</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641160"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>      </span><span class="hs-comment">-- anything else, including things like (+)</span><span>
</span><a name="line-621"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-6989586621679641506"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppType"><span class="hs-identifier hs-type">HsAppType</span></a><span> </span><a href="#local-6989586621679641506"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-622"></a><span>
</span><a name="line-623"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641208"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641208"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-624"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppType"><span class="hs-identifier hs-type">HsAppType</span></a><span> </span><a href="#local-6989586621679641208"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-625"></a><span>  </span><a name="local-8214565720323905585"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_app_ty"><span class="hs-identifier hs-var">ppr_app_ty</span></a><span>
</span><a name="line-626"></a><span>
</span><a name="line-627"></a><span class="hs-comment">{-
Note [HsForAllTy tyvar binders]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
After parsing:
  * Implicit =&gt; empty
    Explicit =&gt; the variables the user wrote

After renaming
  * Implicit =&gt; the *type* variables free in the type
    Explicit =&gt; the variables the user wrote (renamed)

Qualified currently behaves exactly as Implicit,
but it is deprecated to use it for implicit quantification.
In this case, GHC 7.10 gives a warning; see
Note [Context quantification] in RnTypes, and Trac #4426.
In GHC 8.0, Qualified will no longer bind variables
and this will become an error.

The kind variables bound in the hsq_implicit field come both
  a) from the kind signatures on the kind vars (eg k1)
  b) from the scope of the forall (eg k2)
Example:   f :: forall (a::k1) b. T a (b::k2)


Note [Unit tuples]
~~~~~~~~~~~~~~~~~~
Consider the type
    type instance F Int = ()
We want to parse that &quot;()&quot;
    as HsTupleTy HsBoxedOrConstraintTuple [],
NOT as HsTyVar unitTyCon

Why? Because F might have kind (* -&gt; Constraint), so we when parsing we
don't know if that tuple is going to be a constraint tuple or an ordinary
unit tuple.  The HsTupleSort flag is specifically designed to deal with
that, but it has to work for unit tuples too.

Note [Promotions (HsTyVar)]
~~~~~~~~~~~~~~~~~~~~~~~~~~~
HsTyVar: A name in a type or kind.
  Here are the allowed namespaces for the name.
    In a type:
      Var: not allowed
      Data: promoted data constructor
      Tv: type variable
      TcCls before renamer: type constructor, class constructor, or promoted data constructor
      TcCls after renamer: type constructor or class constructor
    In a kind:
      Var, Data: not allowed
      Tv: kind variable
      TcCls: kind constructor or promoted type constructor

  The 'Promoted' field in an HsTyVar captures whether the type was promoted in
  the source code by prefixing an apostrophe.

Note [HsAppsTy]
~~~~~~~~~~~~~~~
How to parse

  Foo * Int

? Is it `(*) Foo Int` or `Foo GHC.Types.* Int`? There's no way to know until renaming.
So we just take type expressions like this and put each component in a list, so be
sorted out in the renamer. The sorting out is done by RnTypes.mkHsOpTyRn. This means
that the parser should never produce HsAppTy or HsOpTy.

Note [Promoted lists and tuples]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Notice the difference between
   HsListTy    HsExplicitListTy
   HsTupleTy   HsExplicitListTupleTy

E.g.    f :: [Int]                      HsListTy

        g3  :: T '[]                   All these use
        g2  :: T '[True]                  HsExplicitListTy
        g1  :: T '[True,False]
        g1a :: T [True,False]             (can omit ' where unambiguous)

  kind of T :: [Bool] -&gt; *        This kind uses HsListTy!

E.g.    h :: (Int,Bool)                 HsTupleTy; f is a pair
        k :: S '(True,False)            HsExplicitTypleTy; S is indexed by
                                           a type-level pair of booleans
        kind of S :: (Bool,Bool) -&gt; *   This kind uses HsExplicitTupleTy

Note [Distinguishing tuple kinds]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Apart from promotion, tuples can have one of three different kinds:

        x :: (Int, Bool)                -- Regular boxed tuples
        f :: Int# -&gt; (# Int#, Int# #)   -- Unboxed tuples
        g :: (Eq a, Ord a) =&gt; a         -- Constraint tuples

For convenience, internally we use a single constructor for all of these,
namely HsTupleTy, but keep track of the tuple kind (in the first argument to
HsTupleTy, a HsTupleSort). We can tell if a tuple is unboxed while parsing,
because of the #. However, with -XConstraintKinds we can only distinguish
between constraint and boxed tuples during type checking, in general. Hence the
four constructors of HsTupleSort:

        HsUnboxedTuple                  -&gt; Produced by the parser
        HsBoxedTuple                    -&gt; Certainly a boxed tuple
        HsConstraintTuple               -&gt; Certainly a constraint tuple
        HsBoxedOrConstraintTuple        -&gt; Could be a boxed or a constraint
                                        tuple. Produced by the parser only,
                                        disappears after type checking
-}</span><span>
</span><a name="line-736"></a><span>
</span><a name="line-737"></a><span class="hs-comment">-- | Haskell Tuple Sort</span><span>
</span><a name="line-738"></a><span class="hs-keyword">data</span><span> </span><a name="HsTupleSort"><a href="HsTypes.html#HsTupleSort"><span class="hs-identifier">HsTupleSort</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="HsUnboxedTuple"><a href="HsTypes.html#HsUnboxedTuple"><span class="hs-identifier">HsUnboxedTuple</span></a></a><span>
</span><a name="line-739"></a><span>                 </span><span class="hs-glyph">|</span><span> </span><a name="HsBoxedTuple"><a href="HsTypes.html#HsBoxedTuple"><span class="hs-identifier">HsBoxedTuple</span></a></a><span>
</span><a name="line-740"></a><span>                 </span><span class="hs-glyph">|</span><span> </span><a name="HsConstraintTuple"><a href="HsTypes.html#HsConstraintTuple"><span class="hs-identifier">HsConstraintTuple</span></a></a><span>
</span><a name="line-741"></a><span>                 </span><span class="hs-glyph">|</span><span> </span><a name="HsBoxedOrConstraintTuple"><a href="HsTypes.html#HsBoxedOrConstraintTuple"><span class="hs-identifier">HsBoxedOrConstraintTuple</span></a></a><span>
</span><a name="line-742"></a><span>                 </span><span class="hs-keyword">deriving</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span>
</span><a name="line-743"></a><span>
</span><a name="line-744"></a><span>
</span><a name="line-745"></a><span class="hs-comment">-- | Promoted data types.</span><span>
</span><a name="line-746"></a><span class="hs-keyword">data</span><span> </span><a name="Promoted"><a href="HsTypes.html#Promoted"><span class="hs-identifier">Promoted</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Promoted"><a href="HsTypes.html#Promoted"><span class="hs-identifier">Promoted</span></a></a><span>
</span><a name="line-747"></a><span>              </span><span class="hs-glyph">|</span><span> </span><a name="NotPromoted"><a href="HsTypes.html#NotPromoted"><span class="hs-identifier">NotPromoted</span></a></a><span>
</span><a name="line-748"></a><span>              </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a><span class="hs-special">)</span><span>
</span><a name="line-749"></a><span>
</span><a name="line-750"></a><span class="hs-comment">-- | Located Constructor Declaration Field</span><span>
</span><a name="line-751"></a><span class="hs-keyword">type</span><span> </span><a name="LConDeclField"><a href="HsTypes.html#LConDeclField"><span class="hs-identifier">LConDeclField</span></a></a><span> </span><a name="local-6989586621679641159"><a href="#local-6989586621679641159"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#ConDeclField"><span class="hs-identifier hs-type">ConDeclField</span></a><span> </span><a href="#local-6989586621679641159"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-752"></a><span>      </span><span class="hs-comment">-- ^ May have 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnComma' when</span><span>
</span><a name="line-753"></a><span>      </span><span class="hs-comment">--   in a list</span><span>
</span><a name="line-754"></a><span>
</span><a name="line-755"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-756"></a><span>
</span><a name="line-757"></a><span class="hs-comment">-- | Constructor Declaration Field</span><span>
</span><a name="line-758"></a><span class="hs-keyword">data</span><span> </span><a name="ConDeclField"><a href="HsTypes.html#ConDeclField"><span class="hs-identifier">ConDeclField</span></a></a><span> </span><a name="local-6989586621679641158"><a href="#local-6989586621679641158"><span class="hs-identifier">pass</span></a></a><span>  </span><span class="hs-comment">-- Record fields have Haddoc docs on them</span><span>
</span><a name="line-759"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="ConDeclField"><a href="HsTypes.html#ConDeclField"><span class="hs-identifier">ConDeclField</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="cd_fld_names"><a href="HsTypes.html#cd_fld_names"><span class="hs-identifier">cd_fld_names</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LFieldOcc"><span class="hs-identifier hs-type">LFieldOcc</span></a><span> </span><a href="#local-6989586621679641158"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><a name="line-760"></a><span>                                   </span><span class="hs-comment">-- ^ See Note [ConDeclField passs]</span><span>
</span><a name="line-761"></a><span>                   </span><a name="cd_fld_type"><a href="HsTypes.html#cd_fld_type"><span class="hs-identifier">cd_fld_type</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LBangType"><span class="hs-identifier hs-type">LBangType</span></a><span> </span><a href="#local-6989586621679641158"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span>
</span><a name="line-762"></a><span>                   </span><a name="cd_fld_doc"><a href="HsTypes.html#cd_fld_doc"><span class="hs-identifier">cd_fld_doc</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><a href="HsDoc.html#LHsDocString"><span class="hs-identifier hs-type">LHsDocString</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-763"></a><span>      </span><span class="hs-comment">-- ^ - 'ApiAnnotation.AnnKeywordId' : 'ApiAnnotation.AnnDcolon'</span><span>
</span><a name="line-764"></a><span>
</span><a name="line-765"></a><span>      </span><span class="hs-comment">-- For details on above see note [Api annotations] in ApiAnnotation</span><span>
</span><a name="line-766"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-6989586621679641505"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#ConDeclField"><span class="hs-identifier hs-type">ConDeclField</span></a><span> </span><a href="#local-6989586621679641505"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-767"></a><span>
</span><a name="line-768"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641205"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641205"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-769"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#ConDeclField"><span class="hs-identifier hs-type">ConDeclField</span></a><span> </span><a href="#local-6989586621679641205"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-770"></a><span>  </span><a name="local-8214565720323905585"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#ConDeclField"><span class="hs-identifier hs-var">ConDeclField</span></a><span> </span><a name="local-6989586621679641206"><a href="#local-6989586621679641206"><span class="hs-identifier">fld_n</span></a></a><span> </span><a name="local-6989586621679641207"><a href="#local-6989586621679641207"><span class="hs-identifier">fld_ty</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641206"><span class="hs-identifier hs-var">fld_n</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641207"><span class="hs-identifier hs-var">fld_ty</span></a><span>
</span><a name="line-771"></a><span>
</span><a name="line-772"></a><span class="hs-comment">-- HsConDetails is used for patterns/expressions *and* for data type</span><span>
</span><a name="line-773"></a><span class="hs-comment">-- declarations</span><span>
</span><a name="line-774"></a><span class="hs-comment">-- | Haskell Constructor Details</span><span>
</span><a name="line-775"></a><span class="hs-keyword">data</span><span> </span><a name="HsConDetails"><a href="HsTypes.html#HsConDetails"><span class="hs-identifier">HsConDetails</span></a></a><span> </span><a name="local-6989586621679641156"><a href="#local-6989586621679641156"><span class="hs-identifier">arg</span></a></a><span> </span><a name="local-6989586621679641157"><a href="#local-6989586621679641157"><span class="hs-identifier">rec</span></a></a><span>
</span><a name="line-776"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="PrefixCon"><a href="HsTypes.html#PrefixCon"><span class="hs-identifier">PrefixCon</span></a></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621679641156"><span class="hs-identifier hs-type">arg</span></a><span class="hs-special">]</span><span>             </span><span class="hs-comment">-- C p1 p2 p3</span><span>
</span><a name="line-777"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="RecCon"><a href="HsTypes.html#RecCon"><span class="hs-identifier">RecCon</span></a></a><span>    </span><a href="#local-6989586621679641157"><span class="hs-identifier hs-type">rec</span></a><span>               </span><span class="hs-comment">-- C { x = p1, y = p2 }</span><span>
</span><a name="line-778"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="InfixCon"><a href="HsTypes.html#InfixCon"><span class="hs-identifier">InfixCon</span></a></a><span>  </span><a href="#local-6989586621679641156"><span class="hs-identifier hs-type">arg</span></a><span> </span><a href="#local-6989586621679641156"><span class="hs-identifier hs-type">arg</span></a><span>           </span><span class="hs-comment">-- p1 `C` p2</span><span>
</span><a name="line-779"></a><span>  </span><span class="hs-keyword">deriving</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span>
</span><a name="line-780"></a><span>
</span><a name="line-781"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-6989586621679641199"><span class="hs-identifier hs-type">arg</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-6989586621679641200"><span class="hs-identifier hs-type">rec</span></a><span class="hs-special">)</span><span>
</span><a name="line-782"></a><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsConDetails"><span class="hs-identifier hs-type">HsConDetails</span></a><span> </span><a href="#local-6989586621679641199"><span class="hs-identifier hs-type">arg</span></a><span> </span><a href="#local-6989586621679641200"><span class="hs-identifier hs-type">rec</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-783"></a><span>  </span><a name="local-8214565720323905585"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#PrefixCon"><span class="hs-identifier hs-var">PrefixCon</span></a><span> </span><a name="local-6989586621679641201"><a href="#local-6989586621679641201"><span class="hs-identifier">args</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;PrefixCon&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641201"><span class="hs-identifier hs-var">args</span></a><span>
</span><a name="line-784"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#RecCon"><span class="hs-identifier hs-var">RecCon</span></a><span> </span><a name="local-6989586621679641202"><a href="#local-6989586621679641202"><span class="hs-identifier">rec</span></a></a><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;RecCon:&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641202"><span class="hs-identifier hs-var">rec</span></a><span>
</span><a name="line-785"></a><span>  </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#InfixCon"><span class="hs-identifier hs-var">InfixCon</span></a><span> </span><a name="local-6989586621679641203"><a href="#local-6989586621679641203"><span class="hs-identifier">l</span></a></a><span> </span><a name="local-6989586621679641204"><a href="#local-6989586621679641204"><span class="hs-identifier">r</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;InfixCon:&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621679641203"><span class="hs-identifier hs-var">l</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641204"><span class="hs-identifier hs-var">r</span></a><span class="hs-special">]</span><span>
</span><a name="line-786"></a><span>
</span><a name="line-787"></a><span class="hs-comment">{-
Note [ConDeclField passs]
~~~~~~~~~~~~~~~~~~~~~~~~~

A ConDeclField contains a list of field occurrences: these always
include the field label as the user wrote it.  After the renamer, it
will additionally contain the identity of the selector function in the
second component.

Due to DuplicateRecordFields, the OccName of the selector function
may have been mangled, which is why we keep the original field label
separately.  For example, when DuplicateRecordFields is enabled

    data T = MkT { x :: Int }

gives

    ConDeclField { cd_fld_names = [L _ (FieldOcc &quot;x&quot; $sel:x:MkT)], ... }.
-}</span><span>
</span><a name="line-806"></a><span>
</span><a name="line-807"></a><span class="hs-comment">-----------------------</span><span>
</span><a name="line-808"></a><span class="hs-comment">-- A valid type must have a for-all at the top of the type, or of the fn arg</span><span>
</span><a name="line-809"></a><span class="hs-comment">-- types</span><span>
</span><a name="line-810"></a><span>
</span><a name="line-811"></a><span class="hs-comment">---------------------</span><span>
</span><a name="line-812"></a><span class="hs-identifier">hsWcScopedTvs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigWcType"><span class="hs-identifier hs-type">LHsSigWcType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">]</span><span>
</span><a name="line-813"></a><span class="hs-comment">-- Get the lexically-scoped type variables of a HsSigType</span><span>
</span><a name="line-814"></a><span class="hs-comment">--  - the explicitly-given forall'd type variables</span><span>
</span><a name="line-815"></a><span class="hs-comment">--  - the implicitly-bound kind variables</span><span>
</span><a name="line-816"></a><span class="hs-comment">--  - the named wildcars; see Note [Scoping of named wildcards]</span><span>
</span><a name="line-817"></a><span class="hs-comment">-- because they scope in the same way</span><span>
</span><a name="line-818"></a><a name="hsWcScopedTvs"><a href="HsTypes.html#hsWcScopedTvs"><span class="hs-identifier">hsWcScopedTvs</span></a></a><span> </span><a name="local-6989586621679641279"><a href="#local-6989586621679641279"><span class="hs-identifier">sig_ty</span></a></a><span>
</span><a name="line-819"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="HsTypes.html#HsWC"><span class="hs-identifier hs-var">HsWC</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hswc_wcs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641280"><a href="#local-6989586621679641280"><span class="hs-identifier">nwcs</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">hswc_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641281"><a href="#local-6989586621679641281"><span class="hs-identifier">sig_ty1</span></a></a><span> </span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679641279"><span class="hs-identifier hs-var">sig_ty</span></a><span>
</span><a name="line-820"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_vars</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641282"><a href="#local-6989586621679641282"><span class="hs-identifier">vars</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641283"><a href="#local-6989586621679641283"><span class="hs-identifier">sig_ty2</span></a></a><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679641281"><span class="hs-identifier hs-var">sig_ty1</span></a><span>
</span><a name="line-821"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679641283"><span class="hs-identifier hs-var">sig_ty2</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-822"></a><span>      </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsForAllTy"><span class="hs-identifier hs-var">HsForAllTy</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hst_bndrs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641284"><a href="#local-6989586621679641284"><span class="hs-identifier">tvs</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679641282"><span class="hs-identifier hs-var">vars</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="#local-6989586621679641280"><span class="hs-identifier hs-var">nwcs</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span>
</span><a name="line-823"></a><span>                                              </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="HsTypes.html#hsLTyVarName"><span class="hs-identifier hs-var">hsLTyVarName</span></a><span> </span><a href="#local-6989586621679641284"><span class="hs-identifier hs-var">tvs</span></a><span>
</span><a name="line-824"></a><span>               </span><span class="hs-comment">-- include kind variables only if the type is headed by forall</span><span>
</span><a name="line-825"></a><span>               </span><span class="hs-comment">-- (this is consistent with GHC 7 behaviour)</span><span>
</span><a name="line-826"></a><span>      </span><span class="hs-identifier">_</span><span>                                    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679641280"><span class="hs-identifier hs-var">nwcs</span></a><span>
</span><a name="line-827"></a><span>
</span><a name="line-828"></a><span class="hs-identifier">hsScopedTvs</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">]</span><span>
</span><a name="line-829"></a><span class="hs-comment">-- Same as hsWcScopedTvs, but for a LHsSigType</span><span>
</span><a name="line-830"></a><a name="hsScopedTvs"><a href="HsTypes.html#hsScopedTvs"><span class="hs-identifier">hsScopedTvs</span></a></a><span> </span><a name="local-6989586621679641285"><a href="#local-6989586621679641285"><span class="hs-identifier">sig_ty</span></a></a><span>
</span><a name="line-831"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_vars</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641286"><a href="#local-6989586621679641286"><span class="hs-identifier">vars</span></a></a><span class="hs-special">,</span><span>  </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641287"><a href="#local-6989586621679641287"><span class="hs-identifier">sig_ty2</span></a></a><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679641285"><span class="hs-identifier hs-var">sig_ty</span></a><span>
</span><a name="line-832"></a><span>  </span><span class="hs-special">,</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsForAllTy"><span class="hs-identifier hs-var">HsForAllTy</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hst_bndrs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641288"><a href="#local-6989586621679641288"><span class="hs-identifier">tvs</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679641287"><span class="hs-identifier hs-var">sig_ty2</span></a><span>
</span><a name="line-833"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641286"><span class="hs-identifier hs-var">vars</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="HsTypes.html#hsLTyVarName"><span class="hs-identifier hs-var">hsLTyVarName</span></a><span> </span><a href="#local-6989586621679641288"><span class="hs-identifier hs-var">tvs</span></a><span>
</span><a name="line-834"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>
</span><a name="line-835"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-836"></a><span>
</span><a name="line-837"></a><span class="hs-comment">{- Note [Scoping of named wildcards]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Consider
  f :: _a -&gt; _a
  f x = let g :: _a -&gt; _a
            g = ...
        in ...

Currently, for better or worse, the &quot;_a&quot; variables are all the same. So
although there is no explicit forall, the &quot;_a&quot; scopes over the definition.
I don't know if this is a good idea, but there it is.
-}</span><span>
</span><a name="line-849"></a><span>
</span><a name="line-850"></a><span class="hs-comment">---------------------</span><span>
</span><a name="line-851"></a><span class="hs-identifier">hsTyVarName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#HsTyVarBndr"><span class="hs-identifier hs-type">HsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641252"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641252"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-852"></a><a name="hsTyVarName"><a href="HsTypes.html#hsTyVarName"><span class="hs-identifier">hsTyVarName</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641289"><a href="#local-6989586621679641289"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641289"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-853"></a><span class="hs-identifier">hsTyVarName</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#KindedTyVar"><span class="hs-identifier hs-var">KindedTyVar</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641290"><a href="#local-6989586621679641290"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641290"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-854"></a><span>
</span><a name="line-855"></a><span class="hs-identifier">hsLTyVarName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641251"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641251"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-856"></a><a name="hsLTyVarName"><a href="HsTypes.html#hsLTyVarName"><span class="hs-identifier">hsLTyVarName</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#hsTyVarName"><span class="hs-identifier hs-var">hsTyVarName</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span>
</span><a name="line-857"></a><span>
</span><a name="line-858"></a><span class="hs-identifier">hsExplicitLTyVarNames</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621679641250"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641250"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-859"></a><span class="hs-comment">-- Explicit variables only</span><span>
</span><a name="line-860"></a><a name="hsExplicitLTyVarNames"><a href="HsTypes.html#hsExplicitLTyVarNames"><span class="hs-identifier">hsExplicitLTyVarNames</span></a></a><span> </span><a name="local-6989586621679641291"><a href="#local-6989586621679641291"><span class="hs-identifier">qtvs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="HsTypes.html#hsLTyVarName"><span class="hs-identifier hs-var">hsLTyVarName</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#hsQTvExplicit"><span class="hs-identifier hs-var">hsQTvExplicit</span></a><span> </span><a href="#local-6989586621679641291"><span class="hs-identifier hs-var">qtvs</span></a><span class="hs-special">)</span><span>
</span><a name="line-861"></a><span>
</span><a name="line-862"></a><span class="hs-identifier">hsAllLTyVarNames</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">]</span><span>
</span><a name="line-863"></a><span class="hs-comment">-- All variables</span><span>
</span><a name="line-864"></a><a name="hsAllLTyVarNames"><a href="HsTypes.html#hsAllLTyVarNames"><span class="hs-identifier">hsAllLTyVarNames</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsQTvs"><span class="hs-identifier hs-var">HsQTvs</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsq_implicit</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641292"><a href="#local-6989586621679641292"><span class="hs-identifier">kvs</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">hsq_explicit</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641293"><a href="#local-6989586621679641293"><span class="hs-identifier">tvs</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-865"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641292"><span class="hs-identifier hs-var">kvs</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="HsTypes.html#hsLTyVarName"><span class="hs-identifier hs-var">hsLTyVarName</span></a><span> </span><a href="#local-6989586621679641293"><span class="hs-identifier hs-var">tvs</span></a><span>
</span><a name="line-866"></a><span>
</span><a name="line-867"></a><span class="hs-identifier">hsLTyVarLocName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641249"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641249"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-868"></a><a name="hsLTyVarLocName"><a href="HsTypes.html#hsLTyVarLocName"><span class="hs-identifier">hsLTyVarLocName</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a><span> </span><a href="HsTypes.html#hsTyVarName"><span class="hs-identifier hs-var">hsTyVarName</span></a><span>
</span><a name="line-869"></a><span>
</span><a name="line-870"></a><span class="hs-identifier">hsLTyVarLocNames</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621679641248"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641248"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><a name="line-871"></a><a name="hsLTyVarLocNames"><a href="HsTypes.html#hsLTyVarLocNames"><span class="hs-identifier">hsLTyVarLocNames</span></a></a><span> </span><a name="local-6989586621679641294"><a href="#local-6989586621679641294"><span class="hs-identifier">qtvs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="HsTypes.html#hsLTyVarLocName"><span class="hs-identifier hs-var">hsLTyVarLocName</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#hsQTvExplicit"><span class="hs-identifier hs-var">hsQTvExplicit</span></a><span> </span><a href="#local-6989586621679641294"><span class="hs-identifier hs-var">qtvs</span></a><span class="hs-special">)</span><span>
</span><a name="line-872"></a><span>
</span><a name="line-873"></a><span class="hs-comment">-- | Convert a LHsTyVarBndr to an equivalent LHsType.</span><span>
</span><a name="line-874"></a><span class="hs-identifier">hsLTyVarBndrToType</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641247"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641247"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-875"></a><a name="hsLTyVarBndrToType"><a href="HsTypes.html#hsLTyVarBndrToType"><span class="hs-identifier">hsLTyVarBndrToType</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a><span> </span><a href="#local-6989586621679641295"><span class="hs-identifier hs-var">cvt</span></a><span>
</span><a name="line-876"></a><span>  </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679641295"><a href="#local-6989586621679641295"><span class="hs-identifier">cvt</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a><span> </span><a name="local-6989586621679641296"><a href="#local-6989586621679641296"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsTyVar"><span class="hs-identifier hs-var">HsTyVar</span></a><span> </span><a href="HsTypes.html#NotPromoted"><span class="hs-identifier hs-var">NotPromoted</span></a><span> </span><a href="#local-6989586621679641296"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-877"></a><span>        </span><span class="hs-identifier">cvt</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#KindedTyVar"><span class="hs-identifier hs-var">KindedTyVar</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a name="local-6989586621679641297"><a href="#local-6989586621679641297"><span class="hs-identifier">name_loc</span></a></a><span> </span><a name="local-6989586621679641298"><a href="#local-6989586621679641298"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679641299"><a href="#local-6989586621679641299"><span class="hs-identifier">kind</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-878"></a><span>          </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsKindSig"><span class="hs-identifier hs-var">HsKindSig</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a href="#local-6989586621679641297"><span class="hs-identifier hs-var">name_loc</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVar"><span class="hs-identifier hs-var">HsTyVar</span></a><span> </span><a href="HsTypes.html#NotPromoted"><span class="hs-identifier hs-var">NotPromoted</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a href="#local-6989586621679641297"><span class="hs-identifier hs-var">name_loc</span></a><span> </span><a href="#local-6989586621679641298"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679641299"><span class="hs-identifier hs-var">kind</span></a><span>
</span><a name="line-879"></a><span>
</span><a name="line-880"></a><span class="hs-comment">-- | Convert a LHsTyVarBndrs to a list of types.</span><span>
</span><a name="line-881"></a><span class="hs-comment">-- Works on *type* variable only, no kind vars.</span><span>
</span><a name="line-882"></a><span class="hs-identifier">hsLTyVarBndrsToTypes</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621679641246"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641246"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-883"></a><a name="hsLTyVarBndrsToTypes"><a href="HsTypes.html#hsLTyVarBndrsToTypes"><span class="hs-identifier">hsLTyVarBndrsToTypes</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsQTvs"><span class="hs-identifier hs-var">HsQTvs</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsq_explicit</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641300"><a href="#local-6989586621679641300"><span class="hs-identifier">tvbs</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="HsTypes.html#hsLTyVarBndrToType"><span class="hs-identifier hs-var">hsLTyVarBndrToType</span></a><span> </span><a href="#local-6989586621679641300"><span class="hs-identifier hs-var">tvbs</span></a><span>
</span><a name="line-884"></a><span>
</span><a name="line-885"></a><span class="hs-comment">---------------------</span><span>
</span><a name="line-886"></a><span class="hs-identifier">wildCardName</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#HsWildCardInfo"><span class="hs-identifier hs-type">HsWildCardInfo</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span>
</span><a name="line-887"></a><a name="wildCardName"><a href="HsTypes.html#wildCardName"><span class="hs-identifier">wildCardName</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#AnonWildCard"><span class="hs-identifier hs-var">AnonWildCard</span></a><span>  </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641301"><a href="#local-6989586621679641301"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641301"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-888"></a><span>
</span><a name="line-889"></a><span class="hs-comment">-- Two wild cards are the same when they have the same location</span><span>
</span><a name="line-890"></a><span class="hs-identifier">sameWildCard</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsWildCardInfo"><span class="hs-identifier hs-type">HsWildCardInfo</span></a><span> </span><a href="#local-6989586621679641245"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-891"></a><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsWildCardInfo"><span class="hs-identifier hs-type">HsWildCardInfo</span></a><span> </span><a href="#local-6989586621679641245"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-892"></a><a name="sameWildCard"><a href="HsTypes.html#sameWildCard"><span class="hs-identifier">sameWildCard</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a name="local-6989586621679641302"><a href="#local-6989586621679641302"><span class="hs-identifier">l1</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#AnonWildCard"><span class="hs-identifier hs-var">AnonWildCard</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a name="local-6989586621679641303"><a href="#local-6989586621679641303"><span class="hs-identifier">l2</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#AnonWildCard"><span class="hs-identifier hs-var">AnonWildCard</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641302"><span class="hs-identifier hs-var">l1</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="#local-6989586621679641303"><span class="hs-identifier hs-var">l2</span></a><span>
</span><a name="line-893"></a><span>
</span><a name="line-894"></a><span class="hs-identifier">ignoreParens</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641244"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641244"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-895"></a><a name="ignoreParens"><a href="HsTypes.html#ignoreParens"><span class="hs-identifier">ignoreParens</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><a name="local-6989586621679641304"><a href="#local-6989586621679641304"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ignoreParens"><span class="hs-identifier hs-var">ignoreParens</span></a><span> </span><a href="#local-6989586621679641304"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-896"></a><span class="hs-identifier">ignoreParens</span><span> </span><a name="local-6989586621679641305"><a href="#local-6989586621679641305"><span class="hs-identifier">ty</span></a></a><span>                 </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641305"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-897"></a><span>
</span><a name="line-898"></a><span class="hs-identifier">isLHsForAllTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641243"><span class="hs-identifier hs-type">p</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-899"></a><a name="isLHsForAllTy"><a href="HsTypes.html#isLHsForAllTy"><span class="hs-identifier">isLHsForAllTy</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsForAllTy"><span class="hs-identifier hs-var">HsForAllTy</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-900"></a><span class="hs-identifier">isLHsForAllTy</span><span> </span><span class="hs-identifier">_</span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-901"></a><span>
</span><a name="line-902"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Building types
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-909"></a><span>
</span><a name="line-910"></a><span class="hs-identifier">mkAnonWildCardTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span>
</span><a name="line-911"></a><a name="mkAnonWildCardTy"><a href="HsTypes.html#mkAnonWildCardTy"><span class="hs-identifier">mkAnonWildCardTy</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsWildCardTy"><span class="hs-identifier hs-var">HsWildCardTy</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#AnonWildCard"><span class="hs-identifier hs-var">AnonWildCard</span></a><span> </span><a href="PlaceHolder.html#PlaceHolder"><span class="hs-identifier hs-var">PlaceHolder</span></a><span class="hs-special">)</span><span>
</span><a name="line-912"></a><span>
</span><a name="line-913"></a><span class="hs-identifier">mkHsOpTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641242"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641242"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641242"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><a href="#local-6989586621679641242"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-914"></a><a name="mkHsOpTy"><a href="HsTypes.html#mkHsOpTy"><span class="hs-identifier">mkHsOpTy</span></a></a><span> </span><a name="local-6989586621679641306"><a href="#local-6989586621679641306"><span class="hs-identifier">ty1</span></a></a><span> </span><a name="local-6989586621679641307"><a href="#local-6989586621679641307"><span class="hs-identifier">op</span></a></a><span> </span><a name="local-6989586621679641308"><a href="#local-6989586621679641308"><span class="hs-identifier">ty2</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsOpTy"><span class="hs-identifier hs-var">HsOpTy</span></a><span> </span><a href="#local-6989586621679641306"><span class="hs-identifier hs-var">ty1</span></a><span> </span><a href="#local-6989586621679641307"><span class="hs-identifier hs-var">op</span></a><span> </span><a href="#local-6989586621679641308"><span class="hs-identifier hs-var">ty2</span></a><span>
</span><a name="line-915"></a><span>
</span><a name="line-916"></a><span class="hs-identifier">mkHsAppTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641241"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641241"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641241"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-917"></a><a name="mkHsAppTy"><a href="HsTypes.html#mkHsAppTy"><span class="hs-identifier">mkHsAppTy</span></a></a><span> </span><a name="local-6989586621679641309"><a href="#local-6989586621679641309"><span class="hs-identifier">t1</span></a></a><span> </span><a name="local-6989586621679641310"><a href="#local-6989586621679641310"><span class="hs-identifier">t2</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#addCLoc"><span class="hs-identifier hs-var">addCLoc</span></a><span> </span><a href="#local-6989586621679641309"><span class="hs-identifier hs-var">t1</span></a><span> </span><a href="#local-6989586621679641310"><span class="hs-identifier hs-var">t2</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppTy"><span class="hs-identifier hs-var">HsAppTy</span></a><span> </span><a href="#local-6989586621679641309"><span class="hs-identifier hs-var">t1</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#parenthesizeCompoundHsType"><span class="hs-identifier hs-var">parenthesizeCompoundHsType</span></a><span> </span><a href="#local-6989586621679641310"><span class="hs-identifier hs-var">t2</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-918"></a><span>
</span><a name="line-919"></a><span class="hs-identifier">mkHsAppTys</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641240"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641240"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641240"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-920"></a><a name="mkHsAppTys"><a href="HsTypes.html#mkHsAppTys"><span class="hs-identifier">mkHsAppTys</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Foldable.html#foldl"><span class="hs-identifier hs-var">foldl</span></a><span> </span><a href="HsTypes.html#mkHsAppTy"><span class="hs-identifier hs-var">mkHsAppTy</span></a><span>
</span><a name="line-921"></a><span>
</span><a name="line-922"></a><span class="hs-identifier">mkHsAppsTy</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsAppType"><span class="hs-identifier hs-type">LHsAppType</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span>
</span><a name="line-923"></a><span class="hs-comment">-- In the common case of a singleton non-operator,</span><span>
</span><a name="line-924"></a><span class="hs-comment">-- avoid the clutter of wrapping in a HsAppsTy</span><span>
</span><a name="line-925"></a><a name="mkHsAppsTy"><a href="HsTypes.html#mkHsAppsTy"><span class="hs-identifier">mkHsAppsTy</span></a></a><span> </span><span class="hs-special">[</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppPrefix"><span class="hs-identifier hs-var">HsAppPrefix</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641311"><a href="#local-6989586621679641311"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641311"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-926"></a><span class="hs-identifier">mkHsAppsTy</span><span> </span><a name="local-6989586621679641312"><a href="#local-6989586621679641312"><span class="hs-identifier">app_tys</span></a></a><span>                      </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#HsAppsTy"><span class="hs-identifier hs-var">HsAppsTy</span></a><span> </span><a href="#local-6989586621679641312"><span class="hs-identifier hs-var">app_tys</span></a><span>
</span><a name="line-927"></a><span>
</span><a name="line-928"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Decomposing HsTypes
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-935"></a><span>
</span><a name="line-936"></a><span class="hs-comment">---------------------------------</span><span>
</span><a name="line-937"></a><span class="hs-comment">-- splitHsFunType decomposes a type (t1 -&gt; t2 ... -&gt; tn)</span><span>
</span><a name="line-938"></a><span class="hs-comment">-- Breaks up any parens in the result type:</span><span>
</span><a name="line-939"></a><span class="hs-comment">--      splitHsFunType (a -&gt; (b -&gt; c)) = ([a,b], c)</span><span>
</span><a name="line-940"></a><span class="hs-comment">-- Also deals with (-&gt;) t1 t2; that is why it only works on LHsType Name</span><span>
</span><a name="line-941"></a><span class="hs-comment">--   (see Trac #9096)</span><span>
</span><a name="line-942"></a><span class="hs-identifier">splitHsFunType</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span class="hs-special">)</span><span>
</span><a name="line-943"></a><a name="splitHsFunType"><a href="HsTypes.html#splitHsFunType"><span class="hs-identifier">splitHsFunType</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><a name="local-6989586621679641313"><a href="#local-6989586621679641313"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-944"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#splitHsFunType"><span class="hs-identifier hs-var">splitHsFunType</span></a><span> </span><a href="#local-6989586621679641313"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-945"></a><span>
</span><a name="line-946"></a><span class="hs-identifier">splitHsFunType</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsFunTy"><span class="hs-identifier hs-var">HsFunTy</span></a><span> </span><a name="local-6989586621679641314"><a href="#local-6989586621679641314"><span class="hs-identifier">x</span></a></a><span> </span><a name="local-6989586621679641315"><a href="#local-6989586621679641315"><span class="hs-identifier">y</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-947"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679641316"><a href="#local-6989586621679641316"><span class="hs-identifier">args</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679641317"><a href="#local-6989586621679641317"><span class="hs-identifier">res</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="HsTypes.html#splitHsFunType"><span class="hs-identifier hs-var">splitHsFunType</span></a><span> </span><a href="#local-6989586621679641315"><span class="hs-identifier hs-var">y</span></a><span>
</span><a name="line-948"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679641314"><span class="hs-identifier hs-var">x</span></a><span class="hs-glyph">:</span><a href="#local-6989586621679641316"><span class="hs-identifier hs-var">args</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641317"><span class="hs-identifier hs-var">res</span></a><span class="hs-special">)</span><span>
</span><a name="line-949"></a><span>
</span><a name="line-950"></a><span class="hs-identifier">splitHsFunType</span><span> </span><a name="local-6989586621679641318"><a href="#local-6989586621679641318"><span class="hs-identifier">orig_ty</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppTy"><span class="hs-identifier hs-var">HsAppTy</span></a><span> </span><a name="local-6989586621679641319"><a href="#local-6989586621679641319"><span class="hs-identifier">t1</span></a></a><span> </span><a name="local-6989586621679641320"><a href="#local-6989586621679641320"><span class="hs-identifier">t2</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-951"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641321"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621679641319"><span class="hs-identifier hs-var">t1</span></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621679641320"><span class="hs-identifier hs-var">t2</span></a><span class="hs-special">]</span><span>
</span><a name="line-952"></a><span>  </span><span class="hs-keyword">where</span><span>  </span><span class="hs-comment">-- Look for (-&gt;) t1 t2, possibly with parenthesisation</span><span>
</span><a name="line-953"></a><span>    </span><a name="local-6989586621679641321"><a href="#local-6989586621679641321"><span class="hs-identifier">go</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVar"><span class="hs-identifier hs-var">HsTyVar</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641322"><a href="#local-6989586621679641322"><span class="hs-identifier">fn</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a name="local-6989586621679641323"><a href="#local-6989586621679641323"><span class="hs-identifier">tys</span></a></a><span> </span><span class="hs-glyph">|</span><span> </span><a href="#local-6989586621679641322"><span class="hs-identifier hs-var">fn</span></a><span> </span><span class="hs-operator hs-var">==</span><span> </span><a href="TysPrim.html#funTyConName"><span class="hs-identifier hs-var">funTyConName</span></a><span>
</span><a name="line-954"></a><span>                                 </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><a name="local-6989586621679641324"><a href="#local-6989586621679641324"><span class="hs-identifier">t1</span></a></a><span class="hs-special">,</span><a name="local-6989586621679641325"><a href="#local-6989586621679641325"><span class="hs-identifier">t2</span></a></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679641323"><span class="hs-identifier hs-var">tys</span></a><span>
</span><a name="line-955"></a><span>                                 </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679641326"><a href="#local-6989586621679641326"><span class="hs-identifier">args</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679641327"><a href="#local-6989586621679641327"><span class="hs-identifier">res</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="HsTypes.html#splitHsFunType"><span class="hs-identifier hs-var">splitHsFunType</span></a><span> </span><a href="#local-6989586621679641325"><span class="hs-identifier hs-var">t2</span></a><span>
</span><a name="line-956"></a><span>                                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679641324"><span class="hs-identifier hs-var">t1</span></a><span class="hs-glyph">:</span><a href="#local-6989586621679641326"><span class="hs-identifier hs-var">args</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641327"><span class="hs-identifier hs-var">res</span></a><span class="hs-special">)</span><span>
</span><a name="line-957"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppTy"><span class="hs-identifier hs-var">HsAppTy</span></a><span> </span><a name="local-6989586621679641328"><a href="#local-6989586621679641328"><span class="hs-identifier">t1</span></a></a><span> </span><a name="local-6989586621679641329"><a href="#local-6989586621679641329"><span class="hs-identifier">t2</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a name="local-6989586621679641330"><a href="#local-6989586621679641330"><span class="hs-identifier">tys</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641321"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621679641328"><span class="hs-identifier hs-var">t1</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679641329"><span class="hs-identifier hs-var">t2</span></a><span class="hs-glyph">:</span><a href="#local-6989586621679641330"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span>
</span><a name="line-958"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><a name="local-6989586621679641331"><a href="#local-6989586621679641331"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>    </span><a name="local-6989586621679641332"><a href="#local-6989586621679641332"><span class="hs-identifier">tys</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641321"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621679641331"><span class="hs-identifier hs-var">ty</span></a><span> </span><a href="#local-6989586621679641332"><span class="hs-identifier hs-var">tys</span></a><span>
</span><a name="line-959"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-identifier">_</span><span>                     </span><span class="hs-identifier">_</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641318"><span class="hs-identifier hs-var">orig_ty</span></a><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- Failure to match</span><span>
</span><a name="line-960"></a><span>
</span><a name="line-961"></a><span class="hs-identifier">splitHsFunType</span><span> </span><a name="local-6989586621679641333"><a href="#local-6989586621679641333"><span class="hs-identifier">other</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641333"><span class="hs-identifier hs-var">other</span></a><span class="hs-special">)</span><span>
</span><a name="line-962"></a><span>
</span><a name="line-963"></a><span class="hs-comment">--------------------------------</span><span>
</span><a name="line-964"></a><span class="hs-comment">-- | Retrieves the head of an HsAppsTy, if this can be done unambiguously,</span><span>
</span><a name="line-965"></a><span class="hs-comment">-- without consulting fixities.</span><span>
</span><a name="line-966"></a><span class="hs-identifier">getAppsTyHead_maybe</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsAppType"><span class="hs-identifier hs-type">LHsAppType</span></a><span> </span><a href="#local-6989586621679641239"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>
</span><a name="line-967"></a><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641239"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641239"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#LexicalFixity"><span class="hs-identifier hs-type">LexicalFixity</span></a><span class="hs-special">)</span><span>
</span><a name="line-968"></a><a name="getAppsTyHead_maybe"><a href="HsTypes.html#getAppsTyHead_maybe"><span class="hs-identifier">getAppsTyHead_maybe</span></a></a><span> </span><a name="local-6989586621679641334"><a href="#local-6989586621679641334"><span class="hs-identifier">tys</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="HsTypes.html#splitHsAppsTy"><span class="hs-identifier hs-var">splitHsAppsTy</span></a><span> </span><a href="#local-6989586621679641334"><span class="hs-identifier hs-var">tys</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-969"></a><span>  </span><span class="hs-special">(</span><span class="hs-special">[</span><a name="local-6989586621679641335"><a href="#local-6989586621679641335"><span class="hs-identifier">app1</span></a></a><span class="hs-glyph">:</span><a name="local-6989586621679641336"><a href="#local-6989586621679641336"><span class="hs-identifier">apps</span></a></a><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="hs-comment">-- no symbols, some normal types</span><span>
</span><a name="line-970"></a><span>    </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#mkHsAppTys"><span class="hs-identifier hs-var">mkHsAppTys</span></a><span> </span><a href="#local-6989586621679641335"><span class="hs-identifier hs-var">app1</span></a><span> </span><a href="#local-6989586621679641336"><span class="hs-identifier hs-var">apps</span></a><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#Prefix"><span class="hs-identifier hs-var">Prefix</span></a><span class="hs-special">)</span><span>
</span><a name="line-971"></a><span>  </span><span class="hs-special">(</span><span class="hs-special">[</span><a name="local-6989586621679641337"><a href="#local-6989586621679641337"><span class="hs-identifier">app1l</span></a></a><span class="hs-glyph">:</span><a name="local-6989586621679641338"><a href="#local-6989586621679641338"><span class="hs-identifier">appsl</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679641339"><a href="#local-6989586621679641339"><span class="hs-identifier">app1r</span></a></a><span class="hs-glyph">:</span><a name="local-6989586621679641340"><a href="#local-6989586621679641340"><span class="hs-identifier">appsr</span></a></a><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a name="local-6989586621679641341"><a href="#local-6989586621679641341"><span class="hs-identifier">loc</span></a></a><span> </span><a name="local-6989586621679641342"><a href="#local-6989586621679641342"><span class="hs-identifier">op</span></a></a><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="hs-comment">-- one operator</span><span>
</span><a name="line-972"></a><span>    </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><span class="hs-special">(</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a href="#local-6989586621679641341"><span class="hs-identifier hs-var">loc</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVar"><span class="hs-identifier hs-var">HsTyVar</span></a><span> </span><a href="HsTypes.html#NotPromoted"><span class="hs-identifier hs-var">NotPromoted</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a href="#local-6989586621679641341"><span class="hs-identifier hs-var">loc</span></a><span> </span><a href="#local-6989586621679641342"><span class="hs-identifier hs-var">op</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-973"></a><span>         </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#mkHsAppTys"><span class="hs-identifier hs-var">mkHsAppTys</span></a><span> </span><a href="#local-6989586621679641337"><span class="hs-identifier hs-var">app1l</span></a><span> </span><a href="#local-6989586621679641338"><span class="hs-identifier hs-var">appsl</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#mkHsAppTys"><span class="hs-identifier hs-var">mkHsAppTys</span></a><span> </span><a href="#local-6989586621679641339"><span class="hs-identifier hs-var">app1r</span></a><span> </span><a href="#local-6989586621679641340"><span class="hs-identifier hs-var">appsr</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="BasicTypes.html#Infix"><span class="hs-identifier hs-var">Infix</span></a><span class="hs-special">)</span><span>
</span><a name="line-974"></a><span>  </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-comment">-- can't figure it out</span><span>
</span><a name="line-975"></a><span>    </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-976"></a><span>
</span><a name="line-977"></a><span class="hs-comment">-- | Splits a [HsAppType pass] (the payload of an HsAppsTy) into regions of</span><span>
</span><a name="line-978"></a><span class="hs-comment">-- prefix types (normal types) and infix operators.</span><span>
</span><a name="line-979"></a><span class="hs-comment">-- If @splitHsAppsTy tys = (non_syms, syms)@, then @tys@ starts with the first</span><span>
</span><a name="line-980"></a><span class="hs-comment">-- element of @non_syms@ followed by the first element of @syms@ followed by</span><span>
</span><a name="line-981"></a><span class="hs-comment">-- the next element of @non_syms@, etc. It is guaranteed that the non_syms list</span><span>
</span><a name="line-982"></a><span class="hs-comment">-- has one more element than the syms list.</span><span>
</span><a name="line-983"></a><span class="hs-identifier">splitHsAppsTy</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsAppType"><span class="hs-identifier hs-type">LHsAppType</span></a><span> </span><a href="#local-6989586621679641238"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641238"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641238"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-984"></a><a name="splitHsAppsTy"><a href="HsTypes.html#splitHsAppsTy"><span class="hs-identifier">splitHsAppsTy</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641343"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-985"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-986"></a><span>    </span><a name="local-6989586621679641343"><a href="#local-6989586621679641343"><span class="hs-identifier">go</span></a></a><span> </span><a name="local-6989586621679641344"><a href="#local-6989586621679641344"><span class="hs-identifier">acc</span></a></a><span> </span><a name="local-6989586621679641345"><a href="#local-6989586621679641345"><span class="hs-identifier">acc_non</span></a></a><span> </span><a name="local-6989586621679641346"><a href="#local-6989586621679641346"><span class="hs-identifier">acc_sym</span></a></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a><span> </span><a href="#local-6989586621679641344"><span class="hs-identifier hs-var">acc</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679641345"><span class="hs-identifier hs-var">acc_non</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a><span> </span><a href="#local-6989586621679641346"><span class="hs-identifier hs-var">acc_sym</span></a><span class="hs-special">)</span><span>
</span><a name="line-987"></a><span>    </span><span class="hs-identifier">go</span><span> </span><a name="local-6989586621679641347"><a href="#local-6989586621679641347"><span class="hs-identifier">acc</span></a></a><span> </span><a name="local-6989586621679641348"><a href="#local-6989586621679641348"><span class="hs-identifier">acc_non</span></a></a><span> </span><a name="local-6989586621679641349"><a href="#local-6989586621679641349"><span class="hs-identifier">acc_sym</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppPrefix"><span class="hs-identifier hs-var">HsAppPrefix</span></a><span> </span><a name="local-6989586621679641350"><a href="#local-6989586621679641350"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">:</span><span> </span><a name="local-6989586621679641351"><a href="#local-6989586621679641351"><span class="hs-identifier">rest</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-988"></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641343"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679641350"><span class="hs-identifier hs-var">ty</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679641347"><span class="hs-identifier hs-var">acc</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679641348"><span class="hs-identifier hs-var">acc_non</span></a><span> </span><a href="#local-6989586621679641349"><span class="hs-identifier hs-var">acc_sym</span></a><span> </span><a href="#local-6989586621679641351"><span class="hs-identifier hs-var">rest</span></a><span>
</span><a name="line-989"></a><span>    </span><span class="hs-identifier">go</span><span> </span><a name="local-6989586621679641352"><a href="#local-6989586621679641352"><span class="hs-identifier">acc</span></a></a><span> </span><a name="local-6989586621679641353"><a href="#local-6989586621679641353"><span class="hs-identifier">acc_non</span></a></a><span> </span><a name="local-6989586621679641354"><a href="#local-6989586621679641354"><span class="hs-identifier">acc_sym</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppInfix"><span class="hs-identifier hs-var">HsAppInfix</span></a><span> </span><a name="local-6989586621679641355"><a href="#local-6989586621679641355"><span class="hs-identifier">op</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">:</span><span> </span><a name="local-6989586621679641356"><a href="#local-6989586621679641356"><span class="hs-identifier">rest</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-990"></a><span>      </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641343"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.List.html#reverse"><span class="hs-identifier hs-var">reverse</span></a><span> </span><a href="#local-6989586621679641352"><span class="hs-identifier hs-var">acc</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679641353"><span class="hs-identifier hs-var">acc_non</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679641355"><span class="hs-identifier hs-var">op</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679641354"><span class="hs-identifier hs-var">acc_sym</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679641356"><span class="hs-identifier hs-var">rest</span></a><span>
</span><a name="line-991"></a><span>
</span><a name="line-992"></a><span class="hs-comment">-- Retrieve the name of the &quot;head&quot; of a nested type application</span><span>
</span><a name="line-993"></a><span class="hs-comment">-- somewhat like splitHsAppTys, but a little more thorough</span><span>
</span><a name="line-994"></a><span class="hs-comment">-- used to examine the result of a GADT-like datacon, so it doesn't handle</span><span>
</span><a name="line-995"></a><span class="hs-comment">-- *all* cases (like lists, tuples, (~), etc.)</span><span>
</span><a name="line-996"></a><span class="hs-identifier">hsTyGetAppHead_maybe</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641237"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-997"></a><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641237"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641237"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-998"></a><a name="hsTyGetAppHead_maybe"><a href="HsTypes.html#hsTyGetAppHead_maybe"><span class="hs-identifier">hsTyGetAppHead_maybe</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641357"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-999"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1000"></a><span>    </span><a name="local-6989586621679641357"><a href="#local-6989586621679641357"><span class="hs-identifier">go</span></a></a><span> </span><a name="local-6989586621679641358"><a href="#local-6989586621679641358"><span class="hs-identifier">tys</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVar"><span class="hs-identifier hs-var">HsTyVar</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641359"><a href="#local-6989586621679641359"><span class="hs-identifier">ln</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679641359"><span class="hs-identifier hs-var">ln</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641358"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span>
</span><a name="line-1001"></a><span>    </span><span class="hs-identifier">go</span><span> </span><a name="local-6989586621679641360"><a href="#local-6989586621679641360"><span class="hs-identifier">tys</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppsTy"><span class="hs-identifier hs-var">HsAppsTy</span></a><span> </span><a name="local-6989586621679641361"><a href="#local-6989586621679641361"><span class="hs-identifier">apps</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1002"></a><span>      </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679641362"><a href="#local-6989586621679641362"><span class="hs-identifier">head</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679641363"><a href="#local-6989586621679641363"><span class="hs-identifier">args</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="HsTypes.html#getAppsTyHead_maybe"><span class="hs-identifier hs-var">getAppsTyHead_maybe</span></a><span> </span><a href="#local-6989586621679641361"><span class="hs-identifier hs-var">apps</span></a><span>
</span><a name="line-1003"></a><span>                                         </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641357"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679641363"><span class="hs-identifier hs-var">args</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="#local-6989586621679641360"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679641362"><span class="hs-identifier hs-var">head</span></a><span>
</span><a name="line-1004"></a><span>    </span><span class="hs-identifier">go</span><span> </span><a name="local-6989586621679641364"><a href="#local-6989586621679641364"><span class="hs-identifier">tys</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppTy"><span class="hs-identifier hs-var">HsAppTy</span></a><span> </span><a name="local-6989586621679641365"><a href="#local-6989586621679641365"><span class="hs-identifier">l</span></a></a><span> </span><a name="local-6989586621679641366"><a href="#local-6989586621679641366"><span class="hs-identifier">r</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641357"><span class="hs-identifier hs-var">go</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679641366"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679641364"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679641365"><span class="hs-identifier hs-var">l</span></a><span>
</span><a name="line-1005"></a><span>    </span><span class="hs-identifier">go</span><span> </span><a name="local-6989586621679641367"><a href="#local-6989586621679641367"><span class="hs-identifier">tys</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsOpTy"><span class="hs-identifier hs-var">HsOpTy</span></a><span> </span><a name="local-6989586621679641368"><a href="#local-6989586621679641368"><span class="hs-identifier">l</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a name="local-6989586621679641369"><a href="#local-6989586621679641369"><span class="hs-identifier">loc</span></a></a><span> </span><a name="local-6989586621679641370"><a href="#local-6989586621679641370"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679641371"><a href="#local-6989586621679641371"><span class="hs-identifier">r</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a href="#local-6989586621679641369"><span class="hs-identifier hs-var">loc</span></a><span> </span><a href="#local-6989586621679641370"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641368"><span class="hs-identifier hs-var">l</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679641371"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-glyph">:</span><span> </span><a href="#local-6989586621679641367"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span>
</span><a name="line-1006"></a><span>    </span><span class="hs-identifier">go</span><span> </span><a name="local-6989586621679641372"><a href="#local-6989586621679641372"><span class="hs-identifier">tys</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><a name="local-6989586621679641373"><a href="#local-6989586621679641373"><span class="hs-identifier">t</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641357"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621679641372"><span class="hs-identifier hs-var">tys</span></a><span> </span><a href="#local-6989586621679641373"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-1007"></a><span>    </span><span class="hs-identifier">go</span><span> </span><a name="local-6989586621679641374"><a href="#local-6989586621679641374"><span class="hs-identifier">tys</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsKindSig"><span class="hs-identifier hs-var">HsKindSig</span></a><span> </span><a name="local-6989586621679641375"><a href="#local-6989586621679641375"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641357"><span class="hs-identifier hs-var">go</span></a><span> </span><a href="#local-6989586621679641374"><span class="hs-identifier hs-var">tys</span></a><span> </span><a href="#local-6989586621679641375"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-1008"></a><span>    </span><span class="hs-identifier">go</span><span> </span><span class="hs-identifier">_</span><span>   </span><span class="hs-identifier">_</span><span>                             </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-1009"></a><span>
</span><a name="line-1010"></a><span class="hs-identifier">splitHsAppTys</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span class="hs-special">]</span><span>
</span><a name="line-1011"></a><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><a name="line-1012"></a><span>  </span><span class="hs-comment">-- no need to worry about HsAppsTy here</span><span>
</span><a name="line-1013"></a><a name="splitHsAppTys"><a href="HsTypes.html#splitHsAppTys"><span class="hs-identifier">splitHsAppTys</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppTy"><span class="hs-identifier hs-var">HsAppTy</span></a><span> </span><a name="local-6989586621679641376"><a href="#local-6989586621679641376"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679641377"><a href="#local-6989586621679641377"><span class="hs-identifier">a</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#splitHsAppTys"><span class="hs-identifier hs-var">splitHsAppTys</span></a><span> </span><a href="#local-6989586621679641376"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679641377"><span class="hs-identifier hs-var">a</span></a><span class="hs-glyph">:</span><span class="hs-keyword">as</span><span class="hs-special">)</span><span>
</span><a name="line-1014"></a><span class="hs-identifier">splitHsAppTys</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><a name="local-6989586621679641379"><a href="#local-6989586621679641379"><span class="hs-identifier">f</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span class="hs-keyword">as</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#splitHsAppTys"><span class="hs-identifier hs-var">splitHsAppTys</span></a><span> </span><a href="#local-6989586621679641379"><span class="hs-identifier hs-var">f</span></a><span> </span><span class="hs-keyword">as</span><span>
</span><a name="line-1015"></a><span class="hs-identifier">splitHsAppTys</span><span> </span><a name="local-6989586621679641381"><a href="#local-6989586621679641381"><span class="hs-identifier">f</span></a></a><span>                   </span><span class="hs-keyword">as</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679641381"><span class="hs-identifier hs-var">f</span></a><span class="hs-special">,</span><span class="hs-keyword">as</span><span class="hs-special">)</span><span>
</span><a name="line-1016"></a><span>
</span><a name="line-1017"></a><span class="hs-comment">--------------------------------</span><span>
</span><a name="line-1018"></a><span class="hs-identifier">splitLHsPatSynTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641236"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1019"></a><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641236"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- universals</span><span>
</span><a name="line-1020"></a><span>                    </span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621679641236"><span class="hs-identifier hs-type">pass</span></a><span>        </span><span class="hs-comment">-- required constraints</span><span>
</span><a name="line-1021"></a><span>                    </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641236"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- existentials</span><span>
</span><a name="line-1022"></a><span>                    </span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621679641236"><span class="hs-identifier hs-type">pass</span></a><span>        </span><span class="hs-comment">-- provided constraints</span><span>
</span><a name="line-1023"></a><span>                    </span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641236"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>          </span><span class="hs-comment">-- body type</span><span>
</span><a name="line-1024"></a><a name="splitLHsPatSynTy"><a href="HsTypes.html#splitLHsPatSynTy"><span class="hs-identifier">splitLHsPatSynTy</span></a></a><span> </span><a name="local-6989586621679641383"><a href="#local-6989586621679641383"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679641384"><span class="hs-identifier hs-var">univs</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641386"><span class="hs-identifier hs-var">reqs</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641388"><span class="hs-identifier hs-var">exis</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641390"><span class="hs-identifier hs-var">provs</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641391"><span class="hs-identifier hs-var">ty4</span></a><span class="hs-special">)</span><span>
</span><a name="line-1025"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1026"></a><span>    </span><span class="hs-special">(</span><a name="local-6989586621679641384"><a href="#local-6989586621679641384"><span class="hs-identifier">univs</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679641385"><a href="#local-6989586621679641385"><span class="hs-identifier">ty1</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#splitLHsForAllTy"><span class="hs-identifier hs-var">splitLHsForAllTy</span></a><span> </span><a href="#local-6989586621679641383"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1027"></a><span>    </span><span class="hs-special">(</span><a name="local-6989586621679641386"><a href="#local-6989586621679641386"><span class="hs-identifier">reqs</span></a></a><span class="hs-special">,</span><span>  </span><a name="local-6989586621679641387"><a href="#local-6989586621679641387"><span class="hs-identifier">ty2</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#splitLHsQualTy"><span class="hs-identifier hs-var">splitLHsQualTy</span></a><span> </span><a href="#local-6989586621679641385"><span class="hs-identifier hs-var">ty1</span></a><span>
</span><a name="line-1028"></a><span>    </span><span class="hs-special">(</span><a name="local-6989586621679641388"><a href="#local-6989586621679641388"><span class="hs-identifier">exis</span></a></a><span class="hs-special">,</span><span>  </span><a name="local-6989586621679641389"><a href="#local-6989586621679641389"><span class="hs-identifier">ty3</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#splitLHsForAllTy"><span class="hs-identifier hs-var">splitLHsForAllTy</span></a><span> </span><a href="#local-6989586621679641387"><span class="hs-identifier hs-var">ty2</span></a><span>
</span><a name="line-1029"></a><span>    </span><span class="hs-special">(</span><a name="local-6989586621679641390"><a href="#local-6989586621679641390"><span class="hs-identifier">provs</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679641391"><a href="#local-6989586621679641391"><span class="hs-identifier">ty4</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#splitLHsQualTy"><span class="hs-identifier hs-var">splitLHsQualTy</span></a><span> </span><a href="#local-6989586621679641389"><span class="hs-identifier hs-var">ty3</span></a><span>
</span><a name="line-1030"></a><span>
</span><a name="line-1031"></a><span class="hs-identifier">splitLHsSigmaTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641235"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1032"></a><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641235"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621679641235"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641235"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1033"></a><a name="splitLHsSigmaTy"><a href="HsTypes.html#splitLHsSigmaTy"><span class="hs-identifier">splitLHsSigmaTy</span></a></a><span> </span><a name="local-6989586621679641392"><a href="#local-6989586621679641392"><span class="hs-identifier">ty</span></a></a><span>
</span><a name="line-1034"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679641393"><a href="#local-6989586621679641393"><span class="hs-identifier">tvs</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679641394"><a href="#local-6989586621679641394"><span class="hs-identifier">ty1</span></a></a><span class="hs-special">)</span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><a href="HsTypes.html#splitLHsForAllTy"><span class="hs-identifier hs-var">splitLHsForAllTy</span></a><span> </span><a href="#local-6989586621679641392"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1035"></a><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679641395"><a href="#local-6989586621679641395"><span class="hs-identifier">ctxt</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679641396"><a href="#local-6989586621679641396"><span class="hs-identifier">ty2</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="HsTypes.html#splitLHsQualTy"><span class="hs-identifier hs-var">splitLHsQualTy</span></a><span> </span><a href="#local-6989586621679641394"><span class="hs-identifier hs-var">ty1</span></a><span>
</span><a name="line-1036"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679641393"><span class="hs-identifier hs-var">tvs</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641395"><span class="hs-identifier hs-var">ctxt</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641396"><span class="hs-identifier hs-var">ty2</span></a><span class="hs-special">)</span><span>
</span><a name="line-1037"></a><span>
</span><a name="line-1038"></a><span class="hs-identifier">splitLHsForAllTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641234"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641234"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641234"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1039"></a><a name="splitLHsForAllTy"><a href="HsTypes.html#splitLHsForAllTy"><span class="hs-identifier">splitLHsForAllTy</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsForAllTy"><span class="hs-identifier hs-var">HsForAllTy</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hst_bndrs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641397"><a href="#local-6989586621679641397"><span class="hs-identifier">tvs</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">hst_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641398"><a href="#local-6989586621679641398"><span class="hs-identifier">body</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679641397"><span class="hs-identifier hs-var">tvs</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641398"><span class="hs-identifier hs-var">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1040"></a><span class="hs-identifier">splitLHsForAllTy</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><a name="local-6989586621679641399"><a href="#local-6989586621679641399"><span class="hs-identifier">t</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#splitLHsForAllTy"><span class="hs-identifier hs-var">splitLHsForAllTy</span></a><span> </span><a href="#local-6989586621679641399"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-1041"></a><span class="hs-identifier">splitLHsForAllTy</span><span> </span><a name="local-6989586621679641400"><a href="#local-6989586621679641400"><span class="hs-identifier">body</span></a></a><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641400"><span class="hs-identifier hs-var">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1042"></a><span>
</span><a name="line-1043"></a><span class="hs-identifier">splitLHsQualTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641233"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621679641233"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641233"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1044"></a><a name="splitLHsQualTy"><a href="HsTypes.html#splitLHsQualTy"><span class="hs-identifier">splitLHsQualTy</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsQualTy"><span class="hs-identifier hs-var">HsQualTy</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hst_ctxt</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641401"><a href="#local-6989586621679641401"><span class="hs-identifier">ctxt</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">hst_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641402"><a href="#local-6989586621679641402"><span class="hs-identifier">body</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679641401"><span class="hs-identifier hs-var">ctxt</span></a><span class="hs-special">,</span><span>     </span><a href="#local-6989586621679641402"><span class="hs-identifier hs-var">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1045"></a><span class="hs-identifier">splitLHsQualTy</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><a name="local-6989586621679641403"><a href="#local-6989586621679641403"><span class="hs-identifier">t</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#splitLHsQualTy"><span class="hs-identifier hs-var">splitLHsQualTy</span></a><span> </span><a href="#local-6989586621679641403"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-1046"></a><span class="hs-identifier">splitLHsQualTy</span><span> </span><a name="local-6989586621679641404"><a href="#local-6989586621679641404"><span class="hs-identifier">body</span></a></a><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#noLoc"><span class="hs-identifier hs-var">noLoc</span></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641404"><span class="hs-identifier hs-var">body</span></a><span class="hs-special">)</span><span>
</span><a name="line-1047"></a><span>
</span><a name="line-1048"></a><span class="hs-identifier">splitLHsInstDeclTy</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span>
</span><a name="line-1049"></a><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><a href="Name.html#Name"><span class="hs-identifier hs-type">Name</span></a><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="HsExtension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a><span class="hs-special">)</span><span>
</span><a name="line-1050"></a><span class="hs-comment">-- Split up an instance decl type, returning the pieces</span><span>
</span><a name="line-1051"></a><a name="splitLHsInstDeclTy"><a href="HsTypes.html#splitLHsInstDeclTy"><span class="hs-identifier">splitLHsInstDeclTy</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_vars</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641405"><a href="#local-6989586621679641405"><span class="hs-identifier">itkvs</span></a></a><span>
</span><a name="line-1052"></a><span>                         </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641406"><a href="#local-6989586621679641406"><span class="hs-identifier">inst_ty</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1053"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679641407"><a href="#local-6989586621679641407"><span class="hs-identifier">tvs</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679641408"><a href="#local-6989586621679641408"><span class="hs-identifier">cxt</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679641409"><a href="#local-6989586621679641409"><span class="hs-identifier">body_ty</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="HsTypes.html#splitLHsSigmaTy"><span class="hs-identifier hs-var">splitLHsSigmaTy</span></a><span> </span><a href="#local-6989586621679641406"><span class="hs-identifier hs-var">inst_ty</span></a><span>
</span><a name="line-1054"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679641405"><span class="hs-identifier hs-var">itkvs</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="HsTypes.html#hsLTyVarName"><span class="hs-identifier hs-var">hsLTyVarName</span></a><span> </span><a href="#local-6989586621679641407"><span class="hs-identifier hs-var">tvs</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641408"><span class="hs-identifier hs-var">cxt</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679641409"><span class="hs-identifier hs-var">body_ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1055"></a><span>         </span><span class="hs-comment">-- Return implicitly bound type and kind vars</span><span>
</span><a name="line-1056"></a><span>         </span><span class="hs-comment">-- For an instance decl, all of them are in scope</span><span>
</span><a name="line-1057"></a><span>
</span><a name="line-1058"></a><span class="hs-identifier">getLHsInstDeclHead</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="#local-6989586621679641232"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641232"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1059"></a><a name="getLHsInstDeclHead"><a href="HsTypes.html#getLHsInstDeclHead"><span class="hs-identifier">getLHsInstDeclHead</span></a></a><span> </span><a name="local-6989586621679641410"><a href="#local-6989586621679641410"><span class="hs-identifier">inst_ty</span></a></a><span>
</span><a name="line-1060"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679641411"><a href="#local-6989586621679641411"><span class="hs-identifier">_tvs</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679641412"><a href="#local-6989586621679641412"><span class="hs-identifier">_cxt</span></a></a><span class="hs-special">,</span><span> </span><a name="local-6989586621679641413"><a href="#local-6989586621679641413"><span class="hs-identifier">body_ty</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="HsTypes.html#splitLHsSigmaTy"><span class="hs-identifier hs-var">splitLHsSigmaTy</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#hsSigType"><span class="hs-identifier hs-var">hsSigType</span></a><span> </span><a href="#local-6989586621679641410"><span class="hs-identifier hs-var">inst_ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1061"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641413"><span class="hs-identifier hs-var">body_ty</span></a><span>
</span><a name="line-1062"></a><span>
</span><a name="line-1063"></a><span class="hs-identifier">getLHsInstDeclClass_maybe</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a><span> </span><a href="#local-6989586621679641231"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641231"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1064"></a><span class="hs-comment">-- Works on (HsSigType RdrName)</span><span>
</span><a name="line-1065"></a><a name="getLHsInstDeclClass_maybe"><a href="HsTypes.html#getLHsInstDeclClass_maybe"><span class="hs-identifier">getLHsInstDeclClass_maybe</span></a></a><span> </span><a name="local-6989586621679641414"><a href="#local-6989586621679641414"><span class="hs-identifier">inst_ty</span></a></a><span>
</span><a name="line-1066"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679641415"><a href="#local-6989586621679641415"><span class="hs-identifier">head_ty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#getLHsInstDeclHead"><span class="hs-identifier hs-var">getLHsInstDeclHead</span></a><span> </span><a href="#local-6989586621679641414"><span class="hs-identifier hs-var">inst_ty</span></a><span>
</span><a name="line-1067"></a><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679641416"><a href="#local-6989586621679641416"><span class="hs-identifier">cls</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="HsTypes.html#hsTyGetAppHead_maybe"><span class="hs-identifier hs-var">hsTyGetAppHead_maybe</span></a><span> </span><a href="#local-6989586621679641415"><span class="hs-identifier hs-var">head_ty</span></a><span>
</span><a name="line-1068"></a><span>       </span><span class="hs-special">;</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#return"><span class="hs-identifier hs-var">return</span></a><span> </span><a href="#local-6989586621679641416"><span class="hs-identifier hs-var">cls</span></a><span> </span><span class="hs-special">}</span><span>
</span><a name="line-1069"></a><span>
</span><a name="line-1070"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
                FieldOcc
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-1077"></a><span>
</span><a name="line-1078"></a><span class="hs-comment">-- | Located Field Occurrence</span><span>
</span><a name="line-1079"></a><span class="hs-keyword">type</span><span> </span><a name="LFieldOcc"><a href="HsTypes.html#LFieldOcc"><span class="hs-identifier">LFieldOcc</span></a></a><span> </span><a name="local-6989586621679641155"><a href="#local-6989586621679641155"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a><span> </span><a href="#local-6989586621679641155"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1080"></a><span>
</span><a name="line-1081"></a><span class="hs-comment">-- | Field Occurrence</span><span>
</span><a name="line-1082"></a><span class="hs-comment">--</span><span>
</span><a name="line-1083"></a><span class="hs-comment">-- Represents an *occurrence* of an unambiguous field.  We store</span><span>
</span><a name="line-1084"></a><span class="hs-comment">-- both the 'RdrName' the user originally wrote, and after the</span><span>
</span><a name="line-1085"></a><span class="hs-comment">-- renamer, the selector function.</span><span>
</span><a name="line-1086"></a><span class="hs-keyword">data</span><span> </span><a name="FieldOcc"><a href="HsTypes.html#FieldOcc"><span class="hs-identifier">FieldOcc</span></a></a><span> </span><a name="local-6989586621679641154"><a href="#local-6989586621679641154"><span class="hs-identifier">pass</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="FieldOcc"><a href="HsTypes.html#FieldOcc"><span class="hs-identifier">FieldOcc</span></a></a><span> </span><span class="hs-special">{</span><span> </span><a name="rdrNameFieldOcc"><a href="HsTypes.html#rdrNameFieldOcc"><span class="hs-identifier">rdrNameFieldOcc</span></a></a><span>  </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="RdrName.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a><span>
</span><a name="line-1087"></a><span>                                 </span><span class="hs-comment">-- ^ See Note [Located RdrNames] in HsExpr</span><span>
</span><a name="line-1088"></a><span>                              </span><span class="hs-special">,</span><span> </span><a name="selectorFieldOcc"><a href="HsTypes.html#selectorFieldOcc"><span class="hs-identifier">selectorFieldOcc</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsExtension.html#PostRn"><span class="hs-identifier hs-type">PostRn</span></a><span> </span><a href="#local-6989586621679641154"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641154"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1089"></a><span>                              </span><span class="hs-special">}</span><span>
</span><a name="line-1090"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Eq</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#PostRn"><span class="hs-identifier hs-type">PostRn</span></a><span> </span><a href="#local-6989586621679641504"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641504"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Eq</span><span>  </span><span class="hs-special">(</span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a><span> </span><a href="#local-6989586621679641504"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1091"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Ord</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#PostRn"><span class="hs-identifier hs-type">PostRn</span></a><span> </span><a href="#local-6989586621679641503"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641503"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Ord</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a><span> </span><a href="#local-6989586621679641503"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1092"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-6989586621679641502"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a><span> </span><a href="#local-6989586621679641502"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1093"></a><span>
</span><a name="line-1094"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a><span> </span><a href="#local-6989586621679641198"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1095"></a><span>  </span><a name="local-8214565720323905585"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><span class="hs-identifier">rdrNameFieldOcc</span><span>
</span><a name="line-1096"></a><span>
</span><a name="line-1097"></a><span class="hs-identifier">mkFieldOcc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="RdrName.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span>
</span><a name="line-1098"></a><a name="mkFieldOcc"><a href="HsTypes.html#mkFieldOcc"><span class="hs-identifier">mkFieldOcc</span></a></a><span> </span><a name="local-6989586621679641417"><a href="#local-6989586621679641417"><span class="hs-identifier">rdr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-var">FieldOcc</span></a><span> </span><a href="#local-6989586621679641417"><span class="hs-identifier hs-var">rdr</span></a><span> </span><a href="PlaceHolder.html#PlaceHolder"><span class="hs-identifier hs-var">PlaceHolder</span></a><span>
</span><a name="line-1099"></a><span>
</span><a name="line-1100"></a><span>
</span><a name="line-1101"></a><span class="hs-comment">-- | Ambiguous Field Occurrence</span><span>
</span><a name="line-1102"></a><span class="hs-comment">--</span><span>
</span><a name="line-1103"></a><span class="hs-comment">-- Represents an *occurrence* of a field that is potentially</span><span>
</span><a name="line-1104"></a><span class="hs-comment">-- ambiguous after the renamer, with the ambiguity resolved by the</span><span>
</span><a name="line-1105"></a><span class="hs-comment">-- typechecker.  We always store the 'RdrName' that the user</span><span>
</span><a name="line-1106"></a><span class="hs-comment">-- originally wrote, and store the selector function after the renamer</span><span>
</span><a name="line-1107"></a><span class="hs-comment">-- (for unambiguous occurrences) or the typechecker (for ambiguous</span><span>
</span><a name="line-1108"></a><span class="hs-comment">-- occurrences).</span><span>
</span><a name="line-1109"></a><span class="hs-comment">--</span><span>
</span><a name="line-1110"></a><span class="hs-comment">-- See Note [HsRecField and HsRecUpdField] in HsPat and</span><span>
</span><a name="line-1111"></a><span class="hs-comment">-- Note [Disambiguating record fields] in TcExpr.</span><span>
</span><a name="line-1112"></a><span class="hs-comment">-- See Note [Located RdrNames] in HsExpr</span><span>
</span><a name="line-1113"></a><span class="hs-keyword">data</span><span> </span><a name="AmbiguousFieldOcc"><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier">AmbiguousFieldOcc</span></a></a><span> </span><a name="local-6989586621679641153"><a href="#local-6989586621679641153"><span class="hs-identifier">pass</span></a></a><span>
</span><a name="line-1114"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a name="Unambiguous"><a href="HsTypes.html#Unambiguous"><span class="hs-identifier">Unambiguous</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="RdrName.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#PostRn"><span class="hs-identifier hs-type">PostRn</span></a><span> </span><a href="#local-6989586621679641153"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641153"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1115"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a name="Ambiguous"><a href="HsTypes.html#Ambiguous"><span class="hs-identifier">Ambiguous</span></a></a><span>   </span><span class="hs-special">(</span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="RdrName.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#PostTc"><span class="hs-identifier hs-type">PostTc</span></a><span> </span><a href="#local-6989586621679641153"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-special">(</span><a href="HsExtension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a><span> </span><a href="#local-6989586621679641153"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1116"></a><span class="hs-keyword">deriving</span><span> </span><span class="hs-keyword">instance</span><span> </span><a href="HsExtension.html#DataId"><span class="hs-identifier hs-type">DataId</span></a><span> </span><a href="#local-6989586621679641501"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Data.html#Data"><span class="hs-identifier hs-type">Data</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span> </span><a href="#local-6989586621679641501"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1117"></a><span>
</span><a name="line-1118"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span> </span><a href="#local-6989586621679641197"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1119"></a><span>  </span><a name="local-8214565720323905585"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="HsTypes.html#rdrNameAmbiguousFieldOcc"><span class="hs-identifier hs-var">rdrNameAmbiguousFieldOcc</span></a><span>
</span><a name="line-1120"></a><span>
</span><a name="line-1121"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span> </span><a href="#local-6989586621679641196"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1122"></a><span>  </span><a name="local-8214565720323905577"><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier">pprInfixOcc</span></a></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var">pprInfixOcc</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="HsTypes.html#rdrNameAmbiguousFieldOcc"><span class="hs-identifier hs-var">rdrNameAmbiguousFieldOcc</span></a><span>
</span><a name="line-1123"></a><span>  </span><a name="local-8214565720323905576"><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier">pprPrefixOcc</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="HsTypes.html#rdrNameAmbiguousFieldOcc"><span class="hs-identifier hs-var">rdrNameAmbiguousFieldOcc</span></a><span>
</span><a name="line-1124"></a><span>
</span><a name="line-1125"></a><span class="hs-identifier">mkAmbiguousFieldOcc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a><span> </span><a href="RdrName.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span> </span><a href="HsExtension.html#GhcPs"><span class="hs-identifier hs-type">GhcPs</span></a><span>
</span><a name="line-1126"></a><a name="mkAmbiguousFieldOcc"><a href="HsTypes.html#mkAmbiguousFieldOcc"><span class="hs-identifier">mkAmbiguousFieldOcc</span></a></a><span> </span><a name="local-6989586621679641418"><a href="#local-6989586621679641418"><span class="hs-identifier">rdr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#Unambiguous"><span class="hs-identifier hs-var">Unambiguous</span></a><span> </span><a href="#local-6989586621679641418"><span class="hs-identifier hs-var">rdr</span></a><span> </span><a href="PlaceHolder.html#PlaceHolder"><span class="hs-identifier hs-var">PlaceHolder</span></a><span>
</span><a name="line-1127"></a><span>
</span><a name="line-1128"></a><span class="hs-identifier">rdrNameAmbiguousFieldOcc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span> </span><a href="#local-6989586621679641230"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="RdrName.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a><span>
</span><a name="line-1129"></a><a name="rdrNameAmbiguousFieldOcc"><a href="HsTypes.html#rdrNameAmbiguousFieldOcc"><span class="hs-identifier">rdrNameAmbiguousFieldOcc</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#Unambiguous"><span class="hs-identifier hs-var">Unambiguous</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641419"><a href="#local-6989586621679641419"><span class="hs-identifier">rdr</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641419"><span class="hs-identifier hs-var">rdr</span></a><span>
</span><a name="line-1130"></a><span class="hs-identifier">rdrNameAmbiguousFieldOcc</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#Ambiguous"><span class="hs-identifier hs-var">Ambiguous</span></a><span>   </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641420"><a href="#local-6989586621679641420"><span class="hs-identifier">rdr</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641420"><span class="hs-identifier hs-var">rdr</span></a><span>
</span><a name="line-1131"></a><span>
</span><a name="line-1132"></a><span class="hs-identifier">selectorAmbiguousFieldOcc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span> </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Var.html#Id"><span class="hs-identifier hs-type">Id</span></a><span>
</span><a name="line-1133"></a><a name="selectorAmbiguousFieldOcc"><a href="HsTypes.html#selectorAmbiguousFieldOcc"><span class="hs-identifier">selectorAmbiguousFieldOcc</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#Unambiguous"><span class="hs-identifier hs-var">Unambiguous</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641421"><a href="#local-6989586621679641421"><span class="hs-identifier">sel</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641421"><span class="hs-identifier hs-var">sel</span></a><span>
</span><a name="line-1134"></a><span class="hs-identifier">selectorAmbiguousFieldOcc</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#Ambiguous"><span class="hs-identifier hs-var">Ambiguous</span></a><span>   </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641422"><a href="#local-6989586621679641422"><span class="hs-identifier">sel</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641422"><span class="hs-identifier hs-var">sel</span></a><span>
</span><a name="line-1135"></a><span>
</span><a name="line-1136"></a><span class="hs-identifier">unambiguousFieldOcc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span> </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a><span> </span><a href="HsExtension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a><span>
</span><a name="line-1137"></a><a name="unambiguousFieldOcc"><a href="HsTypes.html#unambiguousFieldOcc"><span class="hs-identifier">unambiguousFieldOcc</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#Unambiguous"><span class="hs-identifier hs-var">Unambiguous</span></a><span> </span><a name="local-6989586621679641423"><a href="#local-6989586621679641423"><span class="hs-identifier">rdr</span></a></a><span> </span><a name="local-6989586621679641424"><a href="#local-6989586621679641424"><span class="hs-identifier">sel</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-var">FieldOcc</span></a><span> </span><a href="#local-6989586621679641423"><span class="hs-identifier hs-var">rdr</span></a><span> </span><a href="#local-6989586621679641424"><span class="hs-identifier hs-var">sel</span></a><span>
</span><a name="line-1138"></a><span class="hs-identifier">unambiguousFieldOcc</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#Ambiguous"><span class="hs-identifier hs-var">Ambiguous</span></a><span>   </span><a name="local-6989586621679641425"><a href="#local-6989586621679641425"><span class="hs-identifier">rdr</span></a></a><span> </span><a name="local-6989586621679641426"><a href="#local-6989586621679641426"><span class="hs-identifier">sel</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-var">FieldOcc</span></a><span> </span><a href="#local-6989586621679641425"><span class="hs-identifier hs-var">rdr</span></a><span> </span><a href="#local-6989586621679641426"><span class="hs-identifier hs-var">sel</span></a><span>
</span><a name="line-1139"></a><span>
</span><a name="line-1140"></a><span class="hs-identifier">ambiguousFieldOcc</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a><span> </span><a href="#local-6989586621679641229"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#AmbiguousFieldOcc"><span class="hs-identifier hs-type">AmbiguousFieldOcc</span></a><span> </span><a href="#local-6989586621679641229"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1141"></a><a name="ambiguousFieldOcc"><a href="HsTypes.html#ambiguousFieldOcc"><span class="hs-identifier">ambiguousFieldOcc</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#FieldOcc"><span class="hs-identifier hs-var">FieldOcc</span></a><span> </span><a name="local-6989586621679641427"><a href="#local-6989586621679641427"><span class="hs-identifier">rdr</span></a></a><span> </span><a name="local-6989586621679641428"><a href="#local-6989586621679641428"><span class="hs-identifier">sel</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#Unambiguous"><span class="hs-identifier hs-var">Unambiguous</span></a><span> </span><a href="#local-6989586621679641427"><span class="hs-identifier hs-var">rdr</span></a><span> </span><a href="#local-6989586621679641428"><span class="hs-identifier hs-var">sel</span></a><span>
</span><a name="line-1142"></a><span>
</span><a name="line-1143"></a><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Pretty printing}
*                                                                      *
************************************************************************
-}</span><span>
</span><a name="line-1150"></a><span>
</span><a name="line-1151"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641194"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641194"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1152"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><a href="#local-6989586621679641194"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1153"></a><span>    </span><a name="local-8214565720323905585"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><a name="local-6989586621679641195"><a href="#local-6989586621679641195"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#pprHsType"><span class="hs-identifier hs-var">pprHsType</span></a><span> </span><a href="#local-6989586621679641195"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1154"></a><span>
</span><a name="line-1155"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="HsTypes.html#HsTyLit"><span class="hs-identifier hs-type">HsTyLit</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1156"></a><span>    </span><a name="local-8214565720323905585"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_tylit"><span class="hs-identifier hs-var">ppr_tylit</span></a><span>
</span><a name="line-1157"></a><span>
</span><a name="line-1158"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641192"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641192"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1159"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a><span> </span><a href="#local-6989586621679641192"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1160"></a><span>    </span><a name="local-8214565720323905585"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsQTvs"><span class="hs-identifier hs-var">HsQTvs</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsq_explicit</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641193"><a href="#local-6989586621679641193"><span class="hs-identifier">tvs</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#interppSP"><span class="hs-identifier hs-var">interppSP</span></a><span> </span><a href="#local-6989586621679641193"><span class="hs-identifier hs-var">tvs</span></a><span>
</span><a name="line-1161"></a><span>
</span><a name="line-1162"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641188"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641188"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1163"></a><span>       </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVarBndr"><span class="hs-identifier hs-type">HsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641188"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1164"></a><span>    </span><a name="local-8214565720323905585"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#UserTyVar"><span class="hs-identifier hs-var">UserTyVar</span></a><span> </span><a name="local-6989586621679641189"><a href="#local-6989586621679641189"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641189"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-1165"></a><span>    </span><span class="hs-identifier">ppr</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#KindedTyVar"><span class="hs-identifier hs-var">KindedTyVar</span></a><span> </span><a name="local-6989586621679641190"><a href="#local-6989586621679641190"><span class="hs-identifier">n</span></a></a><span> </span><a name="local-6989586621679641191"><a href="#local-6989586621679641191"><span class="hs-identifier">k</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641190"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641191"><span class="hs-identifier hs-var">k</span></a><span class="hs-special">]</span><span>
</span><a name="line-1166"></a><span>
</span><a name="line-1167"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-6989586621679641185"><span class="hs-identifier hs-type">thing</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsImplicitBndrs"><span class="hs-identifier hs-type">HsImplicitBndrs</span></a><span> </span><a href="#local-6989586621679641186"><span class="hs-identifier hs-type">pass</span></a><span> </span><a href="#local-6989586621679641185"><span class="hs-identifier hs-type">thing</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1168"></a><span>    </span><a name="local-8214565720323905585"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIB"><span class="hs-identifier hs-var">HsIB</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hsib_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641187"><a href="#local-6989586621679641187"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641187"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1169"></a><span>
</span><a name="line-1170"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><a href="#local-6989586621679641182"><span class="hs-identifier hs-type">thing</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsWildCardBndrs"><span class="hs-identifier hs-type">HsWildCardBndrs</span></a><span> </span><a href="#local-6989586621679641183"><span class="hs-identifier hs-type">pass</span></a><span> </span><a href="#local-6989586621679641182"><span class="hs-identifier hs-type">thing</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1171"></a><span>    </span><a name="local-8214565720323905585"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsWC"><span class="hs-identifier hs-var">HsWC</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hswc_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641184"><a href="#local-6989586621679641184"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641184"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1172"></a><span>
</span><a name="line-1173"></a><span class="hs-keyword">instance</span><span> </span><a href="Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsWildCardInfo"><span class="hs-identifier hs-type">HsWildCardInfo</span></a><span> </span><a href="#local-6989586621679641181"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-1174"></a><span>    </span><a name="local-8214565720323905585"><a href="Outputable.html#ppr"><span class="hs-identifier">ppr</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#AnonWildCard"><span class="hs-identifier hs-var">AnonWildCard</span></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'_'</span><span>
</span><a name="line-1175"></a><span>
</span><a name="line-1176"></a><span class="hs-identifier">pprHsForAll</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641228"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641228"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1177"></a><span>            </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641228"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621679641228"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1178"></a><a name="pprHsForAll"><a href="HsTypes.html#pprHsForAll"><span class="hs-identifier">pprHsForAll</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#pprHsForAllExtra"><span class="hs-identifier hs-var">pprHsForAllExtra</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-1179"></a><span>
</span><a name="line-1180"></a><span class="hs-comment">-- | Version of 'pprHsForAll' that can also print an extra-constraints</span><span>
</span><a name="line-1181"></a><span class="hs-comment">-- wildcard, e.g. @_ =&gt; a -&gt; Bool@ or @(Show a, _) =&gt; a -&gt; String@. This</span><span>
</span><a name="line-1182"></a><span class="hs-comment">-- underscore will be printed when the 'Maybe SrcSpan' argument is a 'Just'</span><span>
</span><a name="line-1183"></a><span class="hs-comment">-- containing the location of the extra-constraints wildcard. A special</span><span>
</span><a name="line-1184"></a><span class="hs-comment">-- function for this is needed, as the extra-constraints wildcard is removed</span><span>
</span><a name="line-1185"></a><span class="hs-comment">-- from the actual context and type, and stored in a separate field, thus just</span><span>
</span><a name="line-1186"></a><span class="hs-comment">-- printing the type will not print the extra-constraints wildcard.</span><span>
</span><a name="line-1187"></a><span class="hs-identifier">pprHsForAllExtra</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641227"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641227"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1188"></a><span>                 </span><span class="hs-glyph">=&gt;</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><a href="SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641227"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a><span> </span><a href="#local-6989586621679641227"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1189"></a><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1190"></a><a name="pprHsForAllExtra"><a href="HsTypes.html#pprHsForAllExtra"><span class="hs-identifier">pprHsForAllExtra</span></a></a><span> </span><a name="local-6989586621679641429"><a href="#local-6989586621679641429"><span class="hs-identifier">extra</span></a></a><span> </span><a name="local-6989586621679641430"><a href="#local-6989586621679641430"><span class="hs-identifier">qtvs</span></a></a><span> </span><a name="local-6989586621679641431"><a href="#local-6989586621679641431"><span class="hs-identifier">cxt</span></a></a><span>
</span><a name="line-1191"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#pprHsForAllTvs"><span class="hs-identifier hs-var">pprHsForAllTvs</span></a><span> </span><a href="#local-6989586621679641430"><span class="hs-identifier hs-var">qtvs</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsTypes.html#pprHsContextExtra"><span class="hs-identifier hs-var">pprHsContextExtra</span></a><span> </span><a href="#local-6989586621679641432"><span class="hs-identifier hs-var">show_extra</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621679641431"><span class="hs-identifier hs-var">cxt</span></a><span class="hs-special">)</span><span>
</span><a name="line-1192"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1193"></a><span>    </span><a name="local-6989586621679641432"><a href="#local-6989586621679641432"><span class="hs-identifier">show_extra</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Maybe.html#isJust"><span class="hs-identifier hs-var">isJust</span></a><span> </span><a href="#local-6989586621679641429"><span class="hs-identifier hs-var">extra</span></a><span>
</span><a name="line-1194"></a><span>
</span><a name="line-1195"></a><span class="hs-identifier">pprHsForAllTvs</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641226"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641226"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1196"></a><span>               </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a><span> </span><a href="#local-6989586621679641226"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1197"></a><a name="pprHsForAllTvs"><a href="HsTypes.html#pprHsForAllTvs"><span class="hs-identifier">pprHsForAllTvs</span></a></a><span> </span><a name="local-6989586621679641433"><a href="#local-6989586621679641433"><span class="hs-identifier">qtvs</span></a></a><span>
</span><a name="line-1198"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a><span> </span><a href="#local-6989586621679641433"><span class="hs-identifier hs-var">qtvs</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#whenPprDebug"><span class="hs-identifier hs-var">whenPprDebug</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#forAllLit"><span class="hs-identifier hs-var">forAllLit</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#dot"><span class="hs-identifier hs-var">dot</span></a><span class="hs-special">)</span><span>
</span><a name="line-1199"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#forAllLit"><span class="hs-identifier hs-var">forAllLit</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#interppSP"><span class="hs-identifier hs-var">interppSP</span></a><span> </span><a href="#local-6989586621679641433"><span class="hs-identifier hs-var">qtvs</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#dot"><span class="hs-identifier hs-var">dot</span></a><span>
</span><a name="line-1200"></a><span>
</span><a name="line-1201"></a><span class="hs-identifier">pprHsContext</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641225"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641225"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1202"></a><span>             </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsTypes.html#HsContext"><span class="hs-identifier hs-type">HsContext</span></a><span> </span><a href="#local-6989586621679641225"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1203"></a><a name="pprHsContext"><a href="HsTypes.html#pprHsContext"><span class="hs-identifier">pprHsContext</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Maybe.html#maybe"><span class="hs-identifier hs-var">maybe</span></a><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#darrow"><span class="hs-identifier hs-var">darrow</span></a><span class="hs-special">)</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="HsTypes.html#pprHsContextMaybe"><span class="hs-identifier hs-var">pprHsContextMaybe</span></a><span>
</span><a name="line-1204"></a><span>
</span><a name="line-1205"></a><span class="hs-identifier">pprHsContextNoArrow</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641224"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641224"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1206"></a><span>                    </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsTypes.html#HsContext"><span class="hs-identifier hs-type">HsContext</span></a><span> </span><a href="#local-6989586621679641224"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1207"></a><a name="pprHsContextNoArrow"><a href="HsTypes.html#pprHsContextNoArrow"><span class="hs-identifier">pprHsContextNoArrow</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Maybe.html#fromMaybe"><span class="hs-identifier hs-var">fromMaybe</span></a><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="HsTypes.html#pprHsContextMaybe"><span class="hs-identifier hs-var">pprHsContextMaybe</span></a><span>
</span><a name="line-1208"></a><span>
</span><a name="line-1209"></a><span class="hs-identifier">pprHsContextMaybe</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641223"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641223"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1210"></a><span>                  </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsTypes.html#HsContext"><span class="hs-identifier hs-type">HsContext</span></a><span> </span><a href="#local-6989586621679641223"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1211"></a><a name="pprHsContextMaybe"><a href="HsTypes.html#pprHsContextMaybe"><span class="hs-identifier">pprHsContextMaybe</span></a></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>         </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-1212"></a><span class="hs-identifier">pprHsContextMaybe</span><span> </span><span class="hs-special">[</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641434"><a href="#local-6989586621679641434"><span class="hs-identifier">pred</span></a></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="HsTypes.html#ppr_mono_ty"><span class="hs-identifier hs-var">ppr_mono_ty</span></a><span> </span><a href="#local-6989586621679641434"><span class="hs-identifier hs-var">pred</span></a><span>
</span><a name="line-1213"></a><span class="hs-identifier">pprHsContextMaybe</span><span> </span><a name="local-6989586621679641435"><a href="#local-6989586621679641435"><span class="hs-identifier">cxt</span></a></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#interpp%27SP"><span class="hs-identifier hs-var">interpp'SP</span></a><span> </span><a href="#local-6989586621679641435"><span class="hs-identifier hs-var">cxt</span></a><span class="hs-special">)</span><span>
</span><a name="line-1214"></a><span>
</span><a name="line-1215"></a><span class="hs-comment">-- For use in a HsQualTy, which always gets printed if it exists.</span><span>
</span><a name="line-1216"></a><span class="hs-identifier">pprHsContextAlways</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641222"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641222"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1217"></a><span>                   </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsTypes.html#HsContext"><span class="hs-identifier hs-type">HsContext</span></a><span> </span><a href="#local-6989586621679641222"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1218"></a><a name="pprHsContextAlways"><a href="HsTypes.html#pprHsContextAlways"><span class="hs-identifier">pprHsContextAlways</span></a></a><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><a href="Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#darrow"><span class="hs-identifier hs-var">darrow</span></a><span>
</span><a name="line-1219"></a><span class="hs-identifier">pprHsContextAlways</span><span> </span><span class="hs-special">[</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641436"><a href="#local-6989586621679641436"><span class="hs-identifier">ty</span></a></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_mono_ty"><span class="hs-identifier hs-var">ppr_mono_ty</span></a><span> </span><a href="#local-6989586621679641436"><span class="hs-identifier hs-var">ty</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#darrow"><span class="hs-identifier hs-var">darrow</span></a><span>
</span><a name="line-1220"></a><span class="hs-identifier">pprHsContextAlways</span><span> </span><a name="local-6989586621679641437"><a href="#local-6989586621679641437"><span class="hs-identifier">cxt</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#interpp%27SP"><span class="hs-identifier hs-var">interpp'SP</span></a><span> </span><a href="#local-6989586621679641437"><span class="hs-identifier hs-var">cxt</span></a><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#darrow"><span class="hs-identifier hs-var">darrow</span></a><span>
</span><a name="line-1221"></a><span>
</span><a name="line-1222"></a><span class="hs-comment">-- True &lt;=&gt; print an extra-constraints wildcard, e.g. @(Show a, _) =&gt;@</span><span>
</span><a name="line-1223"></a><span class="hs-identifier">pprHsContextExtra</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641221"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641221"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1224"></a><span>                  </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#HsContext"><span class="hs-identifier hs-type">HsContext</span></a><span> </span><a href="#local-6989586621679641221"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1225"></a><a name="pprHsContextExtra"><a href="HsTypes.html#pprHsContextExtra"><span class="hs-identifier">pprHsContextExtra</span></a></a><span> </span><a name="local-6989586621679641438"><a href="#local-6989586621679641438"><span class="hs-identifier">show_extra</span></a></a><span> </span><a name="local-6989586621679641439"><a href="#local-6989586621679641439"><span class="hs-identifier">ctxt</span></a></a><span>
</span><a name="line-1226"></a><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier hs-var">not</span><span> </span><a href="#local-6989586621679641438"><span class="hs-identifier hs-var">show_extra</span></a><span>
</span><a name="line-1227"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#pprHsContext"><span class="hs-identifier hs-var">pprHsContext</span></a><span> </span><a href="#local-6989586621679641439"><span class="hs-identifier hs-var">ctxt</span></a><span>
</span><a name="line-1228"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a><span> </span><a href="#local-6989586621679641439"><span class="hs-identifier hs-var">ctxt</span></a><span>
</span><a name="line-1229"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'_'</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#darrow"><span class="hs-identifier hs-var">darrow</span></a><span>
</span><a name="line-1230"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>
</span><a name="line-1231"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><a href="Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a><span> </span><a href="#local-6989586621679641440"><span class="hs-identifier hs-var">ctxt'</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#darrow"><span class="hs-identifier hs-var">darrow</span></a><span>
</span><a name="line-1232"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1233"></a><span>    </span><a name="local-6989586621679641440"><a href="#local-6989586621679641440"><span class="hs-identifier">ctxt'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641439"><span class="hs-identifier hs-var">ctxt</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'_'</span><span class="hs-special">]</span><span>
</span><a name="line-1234"></a><span>
</span><a name="line-1235"></a><span class="hs-identifier">pprConDeclFields</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641220"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641220"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1236"></a><span>                 </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><a href="HsTypes.html#LConDeclField"><span class="hs-identifier hs-type">LConDeclField</span></a><span> </span><a href="#local-6989586621679641220"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1237"></a><a name="pprConDeclFields"><a href="HsTypes.html#pprConDeclFields"><span class="hs-identifier">pprConDeclFields</span></a></a><span> </span><a name="local-6989586621679641441"><a href="#local-6989586621679641441"><span class="hs-identifier">fields</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#braces"><span class="hs-identifier hs-var">braces</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><a href="Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="#local-6989586621679641442"><span class="hs-identifier hs-var">ppr_fld</span></a><span> </span><a href="#local-6989586621679641441"><span class="hs-identifier hs-var">fields</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1238"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-1239"></a><span>    </span><a name="local-6989586621679641442"><a href="#local-6989586621679641442"><span class="hs-identifier">ppr_fld</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#ConDeclField"><span class="hs-identifier hs-var">ConDeclField</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">cd_fld_names</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641444"><a href="#local-6989586621679641444"><span class="hs-identifier">ns</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">cd_fld_type</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641445"><a href="#local-6989586621679641445"><span class="hs-identifier">ty</span></a></a><span class="hs-special">,</span><span>
</span><a name="line-1240"></a><span>                                 </span><span class="hs-identifier">cd_fld_doc</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641446"><a href="#local-6989586621679641446"><span class="hs-identifier">doc</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1241"></a><span>        </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641443"><span class="hs-identifier hs-var">ppr_names</span></a><span> </span><a href="#local-6989586621679641444"><span class="hs-identifier hs-var">ns</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641445"><span class="hs-identifier hs-var">ty</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsDoc.html#ppr_mbDoc"><span class="hs-identifier hs-var">ppr_mbDoc</span></a><span> </span><a href="#local-6989586621679641446"><span class="hs-identifier hs-var">doc</span></a><span>
</span><a name="line-1242"></a><span>    </span><a name="local-6989586621679641443"><a href="#local-6989586621679641443"><span class="hs-identifier">ppr_names</span></a></a><span> </span><span class="hs-special">[</span><a name="local-6989586621679641447"><a href="#local-6989586621679641447"><span class="hs-identifier">n</span></a></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641447"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-1243"></a><span>    </span><span class="hs-identifier">ppr_names</span><span> </span><a name="local-6989586621679641448"><a href="#local-6989586621679641448"><span class="hs-identifier">ns</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a><span> </span><a href="Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641448"><span class="hs-identifier hs-var">ns</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1244"></a><span>
</span><a name="line-1245"></a><span class="hs-comment">{-
Note [Printing KindedTyVars]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Trac #3830 reminded me that we should really only print the kind
signature on a KindedTyVar if the kind signature was put there by the
programmer.  During kind inference GHC now adds a PostTcKind to UserTyVars,
rather than converting to KindedTyVars as before.

(As it happens, the message in #3830 comes out a different way now,
and the problem doesn't show up; but having the flag on a KindedTyVar
seems like the Right Thing anyway.)
-}</span><span>
</span><a name="line-1257"></a><span>
</span><a name="line-1258"></a><span class="hs-comment">-- Printing works more-or-less as for Types</span><span>
</span><a name="line-1259"></a><span>
</span><a name="line-1260"></a><span class="hs-identifier">pprHsType</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641219"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641219"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><a href="#local-6989586621679641219"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1261"></a><a name="pprHsType"><a href="HsTypes.html#pprHsType"><span class="hs-identifier">pprHsType</span></a></a><span> </span><a name="local-6989586621679641449"><a href="#local-6989586621679641449"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_mono_ty"><span class="hs-identifier hs-var">ppr_mono_ty</span></a><span> </span><a href="#local-6989586621679641449"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1262"></a><span>
</span><a name="line-1263"></a><span class="hs-identifier">ppr_mono_lty</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641218"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641218"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1264"></a><span>             </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641218"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1265"></a><a name="ppr_mono_lty"><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier">ppr_mono_lty</span></a></a><span> </span><a name="local-6989586621679641450"><a href="#local-6989586621679641450"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_mono_ty"><span class="hs-identifier hs-var">ppr_mono_ty</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621679641450"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1266"></a><span>
</span><a name="line-1267"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641217"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641217"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1268"></a><span>            </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsTypes.html#HsType"><span class="hs-identifier hs-type">HsType</span></a><span> </span><a href="#local-6989586621679641217"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1269"></a><a name="ppr_mono_ty"><a href="HsTypes.html#ppr_mono_ty"><span class="hs-identifier">ppr_mono_ty</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsForAllTy"><span class="hs-identifier hs-var">HsForAllTy</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hst_bndrs</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641451"><a href="#local-6989586621679641451"><span class="hs-identifier">tvs</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">hst_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641452"><a href="#local-6989586621679641452"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1270"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="HsTypes.html#pprHsForAllTvs"><span class="hs-identifier hs-var">pprHsForAllTvs</span></a><span> </span><a href="#local-6989586621679641451"><span class="hs-identifier hs-var">tvs</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641452"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">]</span><span>
</span><a name="line-1271"></a><span>
</span><a name="line-1272"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsQualTy"><span class="hs-identifier hs-var">HsQualTy</span></a><span> </span><span class="hs-special">{</span><span> </span><span class="hs-identifier">hst_ctxt</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641453"><a href="#local-6989586621679641453"><span class="hs-identifier">ctxt</span></a></a><span class="hs-special">,</span><span> </span><span class="hs-identifier">hst_body</span><span> </span><span class="hs-glyph">=</span><span> </span><a name="local-6989586621679641454"><a href="#local-6989586621679641454"><span class="hs-identifier">ty</span></a></a><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><a name="line-1273"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="HsTypes.html#pprHsContextAlways"><span class="hs-identifier hs-var">pprHsContextAlways</span></a><span> </span><a href="#local-6989586621679641453"><span class="hs-identifier hs-var">ctxt</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641454"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">]</span><span>
</span><a name="line-1274"></a><span>
</span><a name="line-1275"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsBangTy"><span class="hs-identifier hs-var">HsBangTy</span></a><span> </span><a name="local-6989586621679641455"><a href="#local-6989586621679641455"><span class="hs-identifier">b</span></a></a><span> </span><a name="local-6989586621679641456"><a href="#local-6989586621679641456"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641455"><span class="hs-identifier hs-var">b</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641456"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1276"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsRecTy"><span class="hs-identifier hs-var">HsRecTy</span></a><span> </span><a name="local-6989586621679641457"><a href="#local-6989586621679641457"><span class="hs-identifier">flds</span></a></a><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#pprConDeclFields"><span class="hs-identifier hs-var">pprConDeclFields</span></a><span> </span><a href="#local-6989586621679641457"><span class="hs-identifier hs-var">flds</span></a><span>
</span><a name="line-1277"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVar"><span class="hs-identifier hs-var">HsTyVar</span></a><span> </span><a href="HsTypes.html#NotPromoted"><span class="hs-identifier hs-var">NotPromoted</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641458"><a href="#local-6989586621679641458"><span class="hs-identifier">name</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><a href="#local-6989586621679641458"><span class="hs-identifier hs-var">name</span></a><span>
</span><a name="line-1278"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVar"><span class="hs-identifier hs-var">HsTyVar</span></a><span> </span><a href="HsTypes.html#Promoted"><span class="hs-identifier hs-var">Promoted</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641459"><a href="#local-6989586621679641459"><span class="hs-identifier">name</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1279"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#space"><span class="hs-identifier hs-var">space</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#quote"><span class="hs-identifier hs-var">quote</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><a href="#local-6989586621679641459"><span class="hs-identifier hs-var">name</span></a><span class="hs-special">)</span><span>
</span><a name="line-1280"></a><span>                         </span><span class="hs-comment">-- We need a space before the ' above, so the parser</span><span>
</span><a name="line-1281"></a><span>                         </span><span class="hs-comment">-- does not attach it to the previous symbol</span><span>
</span><a name="line-1282"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsFunTy"><span class="hs-identifier hs-var">HsFunTy</span></a><span> </span><a name="local-6989586621679641460"><a href="#local-6989586621679641460"><span class="hs-identifier">ty1</span></a></a><span> </span><a name="local-6989586621679641461"><a href="#local-6989586621679641461"><span class="hs-identifier">ty2</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_fun_ty"><span class="hs-identifier hs-var">ppr_fun_ty</span></a><span> </span><a href="#local-6989586621679641460"><span class="hs-identifier hs-var">ty1</span></a><span> </span><a href="#local-6989586621679641461"><span class="hs-identifier hs-var">ty2</span></a><span>
</span><a name="line-1283"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTupleTy"><span class="hs-identifier hs-var">HsTupleTy</span></a><span> </span><a name="local-6989586621679641462"><a href="#local-6989586621679641462"><span class="hs-identifier">con</span></a></a><span> </span><a name="local-6989586621679641463"><a href="#local-6989586621679641463"><span class="hs-identifier">tys</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#tupleParens"><span class="hs-identifier hs-var">tupleParens</span></a><span> </span><a href="#local-6989586621679641464"><span class="hs-identifier hs-var">std_con</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#pprWithCommas"><span class="hs-identifier hs-var">pprWithCommas</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641463"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span>
</span><a name="line-1284"></a><span>  </span><span class="hs-keyword">where</span><span> </span><a name="local-6989586621679641464"><a href="#local-6989586621679641464"><span class="hs-identifier">std_con</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679641462"><span class="hs-identifier hs-var">con</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-1285"></a><span>                    </span><a href="HsTypes.html#HsUnboxedTuple"><span class="hs-identifier hs-var">HsUnboxedTuple</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#UnboxedTuple"><span class="hs-identifier hs-var">UnboxedTuple</span></a><span>
</span><a name="line-1286"></a><span>                    </span><span class="hs-identifier">_</span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><a href="BasicTypes.html#BoxedTuple"><span class="hs-identifier hs-var">BoxedTuple</span></a><span>
</span><a name="line-1287"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsSumTy"><span class="hs-identifier hs-var">HsSumTy</span></a><span> </span><a name="local-6989586621679641465"><a href="#local-6989586621679641465"><span class="hs-identifier">tys</span></a></a><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="BasicTypes.html#tupleParens"><span class="hs-identifier hs-var">tupleParens</span></a><span> </span><a href="BasicTypes.html#UnboxedTuple"><span class="hs-identifier hs-var">UnboxedTuple</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#pprWithBars"><span class="hs-identifier hs-var">pprWithBars</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641465"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span>
</span><a name="line-1288"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsKindSig"><span class="hs-identifier hs-var">HsKindSig</span></a><span> </span><a name="local-6989586621679641466"><a href="#local-6989586621679641466"><span class="hs-identifier">ty</span></a></a><span> </span><a name="local-6989586621679641467"><a href="#local-6989586621679641467"><span class="hs-identifier">kind</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641466"><span class="hs-identifier hs-var">ty</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641467"><span class="hs-identifier hs-var">kind</span></a><span class="hs-special">)</span><span>
</span><a name="line-1289"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsListTy"><span class="hs-identifier hs-var">HsListTy</span></a><span> </span><a name="local-6989586621679641468"><a href="#local-6989586621679641468"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641468"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1290"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsPArrTy"><span class="hs-identifier hs-var">HsPArrTy</span></a><span> </span><a name="local-6989586621679641469"><a href="#local-6989586621679641469"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#paBrackets"><span class="hs-identifier hs-var">paBrackets</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641469"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1291"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsIParamTy"><span class="hs-identifier hs-var">HsIParamTy</span></a><span> </span><a name="local-6989586621679641470"><a href="#local-6989586621679641470"><span class="hs-identifier">n</span></a></a><span> </span><a name="local-6989586621679641471"><a href="#local-6989586621679641471"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641470"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641471"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1292"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsSpliceTy"><span class="hs-identifier hs-var">HsSpliceTy</span></a><span> </span><a name="local-6989586621679641472"><a href="#local-6989586621679641472"><span class="hs-identifier">s</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><a href="HsExpr.html#pprSplice"><span class="hs-identifier hs-var">pprSplice</span></a><span> </span><a href="#local-6989586621679641472"><span class="hs-identifier hs-var">s</span></a><span>
</span><a name="line-1293"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsCoreTy"><span class="hs-identifier hs-var">HsCoreTy</span></a><span> </span><a name="local-6989586621679641473"><a href="#local-6989586621679641473"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><a href="#local-6989586621679641473"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1294"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsExplicitListTy"><span class="hs-identifier hs-var">HsExplicitListTy</span></a><span> </span><a href="HsTypes.html#Promoted"><span class="hs-identifier hs-var">Promoted</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641474"><a href="#local-6989586621679641474"><span class="hs-identifier">tys</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1295"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#quote"><span class="hs-identifier hs-var">quote</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#interpp%27SP"><span class="hs-identifier hs-var">interpp'SP</span></a><span> </span><a href="#local-6989586621679641474"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span>
</span><a name="line-1296"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsExplicitListTy"><span class="hs-identifier hs-var">HsExplicitListTy</span></a><span> </span><a href="HsTypes.html#NotPromoted"><span class="hs-identifier hs-var">NotPromoted</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641475"><a href="#local-6989586621679641475"><span class="hs-identifier">tys</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1297"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#interpp%27SP"><span class="hs-identifier hs-var">interpp'SP</span></a><span> </span><a href="#local-6989586621679641475"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span>
</span><a name="line-1298"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsExplicitTupleTy"><span class="hs-identifier hs-var">HsExplicitTupleTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641476"><a href="#local-6989586621679641476"><span class="hs-identifier">tys</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#quote"><span class="hs-identifier hs-var">quote</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#interpp%27SP"><span class="hs-identifier hs-var">interpp'SP</span></a><span> </span><a href="#local-6989586621679641476"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span>
</span><a name="line-1299"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyLit"><span class="hs-identifier hs-var">HsTyLit</span></a><span> </span><a name="local-6989586621679641477"><a href="#local-6989586621679641477"><span class="hs-identifier">t</span></a></a><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_tylit"><span class="hs-identifier hs-var">ppr_tylit</span></a><span> </span><a href="#local-6989586621679641477"><span class="hs-identifier hs-var">t</span></a><span>
</span><a name="line-1300"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsWildCardTy"><span class="hs-identifier hs-var">HsWildCardTy</span></a><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'_'</span><span>
</span><a name="line-1301"></a><span>
</span><a name="line-1302"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsEqTy"><span class="hs-identifier hs-var">HsEqTy</span></a><span> </span><a name="local-6989586621679641478"><a href="#local-6989586621679641478"><span class="hs-identifier">ty1</span></a></a><span> </span><a name="local-6989586621679641479"><a href="#local-6989586621679641479"><span class="hs-identifier">ty2</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1303"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641478"><span class="hs-identifier hs-var">ty1</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#char"><span class="hs-identifier hs-var">char</span></a><span> </span><span class="hs-char">'~'</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641479"><span class="hs-identifier hs-var">ty2</span></a><span>
</span><a name="line-1304"></a><span>
</span><a name="line-1305"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppsTy"><span class="hs-identifier hs-var">HsAppsTy</span></a><span> </span><a name="local-6989586621679641480"><a href="#local-6989586621679641480"><span class="hs-identifier">tys</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1306"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#map"><span class="hs-identifier hs-var">map</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#ppr_app_ty"><span class="hs-identifier hs-var">ppr_app_ty</span></a><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679641480"><span class="hs-identifier hs-var">tys</span></a><span class="hs-special">)</span><span>
</span><a name="line-1307"></a><span>
</span><a name="line-1308"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppTy"><span class="hs-identifier hs-var">HsAppTy</span></a><span> </span><a name="local-6989586621679641481"><a href="#local-6989586621679641481"><span class="hs-identifier">fun_ty</span></a></a><span> </span><a name="local-6989586621679641482"><a href="#local-6989586621679641482"><span class="hs-identifier">arg_ty</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1309"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#hsep"><span class="hs-identifier hs-var">hsep</span></a><span> </span><span class="hs-special">[</span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641481"><span class="hs-identifier hs-var">fun_ty</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641482"><span class="hs-identifier hs-var">arg_ty</span></a><span class="hs-special">]</span><span>
</span><a name="line-1310"></a><span>
</span><a name="line-1311"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsOpTy"><span class="hs-identifier hs-var">HsOpTy</span></a><span> </span><a name="local-6989586621679641483"><a href="#local-6989586621679641483"><span class="hs-identifier">ty1</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641484"><a href="#local-6989586621679641484"><span class="hs-identifier">op</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679641485"><a href="#local-6989586621679641485"><span class="hs-identifier">ty2</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1312"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641483"><span class="hs-identifier hs-var">ty1</span></a><span>
</span><a name="line-1313"></a><span>        </span><span class="hs-special">,</span><span> </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var">pprInfixOcc</span></a><span> </span><a href="#local-6989586621679641484"><span class="hs-identifier hs-var">op</span></a><span class="hs-special">,</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641485"><span class="hs-identifier hs-var">ty2</span></a><span> </span><span class="hs-special">]</span><span> </span><span class="hs-special">]</span><span>
</span><a name="line-1314"></a><span>
</span><a name="line-1315"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><a name="local-6989586621679641486"><a href="#local-6989586621679641486"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1316"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641486"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1317"></a><span>  </span><span class="hs-comment">-- Put the parens in where the user did</span><span>
</span><a name="line-1318"></a><span>  </span><span class="hs-comment">-- But we still use the precedence stuff to add parens because</span><span>
</span><a name="line-1319"></a><span>  </span><span class="hs-comment">--    toHsType doesn't put in any HsParTys, so we may still need them</span><span>
</span><a name="line-1320"></a><span>
</span><a name="line-1321"></a><span class="hs-identifier">ppr_mono_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsDocTy"><span class="hs-identifier hs-var">HsDocTy</span></a><span> </span><a name="local-6989586621679641487"><a href="#local-6989586621679641487"><span class="hs-identifier">ty</span></a></a><span> </span><a name="local-6989586621679641488"><a href="#local-6989586621679641488"><span class="hs-identifier">doc</span></a></a><span class="hs-special">)</span><span>
</span><a name="line-1322"></a><span>  </span><span class="hs-comment">-- AZ: Should we add parens?  Should we introduce &quot;-- ^&quot;?</span><span>
</span><a name="line-1323"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641487"><span class="hs-identifier hs-var">ty</span></a><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a><span> </span><a href="#local-6989586621679641488"><span class="hs-identifier hs-var">doc</span></a><span class="hs-special">)</span><span>
</span><a name="line-1324"></a><span>  </span><span class="hs-comment">-- we pretty print Haddock comments on types as if they were</span><span>
</span><a name="line-1325"></a><span>  </span><span class="hs-comment">-- postfix operators</span><span>
</span><a name="line-1326"></a><span>
</span><a name="line-1327"></a><span class="hs-comment">--------------------------</span><span>
</span><a name="line-1328"></a><span class="hs-identifier">ppr_fun_ty</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641216"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641216"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1329"></a><span>           </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641216"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641216"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1330"></a><a name="ppr_fun_ty"><a href="HsTypes.html#ppr_fun_ty"><span class="hs-identifier">ppr_fun_ty</span></a></a><span> </span><a name="local-6989586621679641489"><a href="#local-6989586621679641489"><span class="hs-identifier">ty1</span></a></a><span> </span><a name="local-6989586621679641490"><a href="#local-6989586621679641490"><span class="hs-identifier">ty2</span></a></a><span>
</span><a name="line-1331"></a><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679641491"><a href="#local-6989586621679641491"><span class="hs-identifier">p1</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641489"><span class="hs-identifier hs-var">ty1</span></a><span>
</span><a name="line-1332"></a><span>        </span><a name="local-6989586621679641492"><a href="#local-6989586621679641492"><span class="hs-identifier">p2</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641490"><span class="hs-identifier hs-var">ty2</span></a><span>
</span><a name="line-1333"></a><span>    </span><span class="hs-keyword">in</span><span>
</span><a name="line-1334"></a><span>    </span><a href="Outputable.html#sep"><span class="hs-identifier hs-var">sep</span></a><span> </span><span class="hs-special">[</span><a href="#local-6989586621679641491"><span class="hs-identifier hs-var">p1</span></a><span class="hs-special">,</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-string">&quot;-&gt;&quot;</span><span> </span><a href="Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a><span> </span><a href="#local-6989586621679641492"><span class="hs-identifier hs-var">p2</span></a><span class="hs-special">]</span><span>
</span><a name="line-1335"></a><span>
</span><a name="line-1336"></a><span class="hs-comment">--------------------------</span><span>
</span><a name="line-1337"></a><span class="hs-identifier">ppr_app_ty</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="HsExtension.html#SourceTextX"><span class="hs-identifier hs-type">SourceTextX</span></a><span> </span><a href="#local-6989586621679641215"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">,</span><span> </span><a href="HsExtension.html#OutputableBndrId"><span class="hs-identifier hs-type">OutputableBndrId</span></a><span> </span><a href="#local-6989586621679641215"><span class="hs-identifier hs-type">pass</span></a><span class="hs-special">)</span><span>
</span><a name="line-1338"></a><span>           </span><span class="hs-glyph">=&gt;</span><span> </span><a href="HsTypes.html#HsAppType"><span class="hs-identifier hs-type">HsAppType</span></a><span> </span><a href="#local-6989586621679641215"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1339"></a><a name="ppr_app_ty"><a href="HsTypes.html#ppr_app_ty"><span class="hs-identifier">ppr_app_ty</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppInfix"><span class="hs-identifier hs-var">HsAppInfix</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641493"><a href="#local-6989586621679641493"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span>                  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprInfixOcc"><span class="hs-identifier hs-var">pprInfixOcc</span></a><span> </span><a href="#local-6989586621679641493"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-1340"></a><span class="hs-identifier">ppr_app_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppPrefix"><span class="hs-identifier hs-var">HsAppPrefix</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVar"><span class="hs-identifier hs-var">HsTyVar</span></a><span> </span><a href="HsTypes.html#NotPromoted"><span class="hs-identifier hs-var">NotPromoted</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641494"><a href="#local-6989586621679641494"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1341"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><a href="#local-6989586621679641494"><span class="hs-identifier hs-var">n</span></a><span>
</span><a name="line-1342"></a><span class="hs-identifier">ppr_app_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppPrefix"><span class="hs-identifier hs-var">HsAppPrefix</span></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsTyVar"><span class="hs-identifier hs-var">HsTyVar</span></a><span> </span><a href="HsTypes.html#Promoted"><span class="hs-identifier hs-var">Promoted</span></a><span>  </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641495"><a href="#local-6989586621679641495"><span class="hs-identifier">n</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-1343"></a><span>  </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#space"><span class="hs-identifier hs-var">space</span></a><span> </span><a href="Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="Outputable.html#quote"><span class="hs-identifier hs-var">quote</span></a><span> </span><span class="hs-special">(</span><a href="Outputable.html#pprPrefixOcc"><span class="hs-identifier hs-var">pprPrefixOcc</span></a><span> </span><a href="#local-6989586621679641495"><span class="hs-identifier hs-var">n</span></a><span class="hs-special">)</span><span> </span><span class="hs-comment">-- We need a space before the ' above, so</span><span>
</span><a name="line-1344"></a><span>                                    </span><span class="hs-comment">-- the parser does not attach it to the</span><span>
</span><a name="line-1345"></a><span>                                    </span><span class="hs-comment">-- previous symbol</span><span>
</span><a name="line-1346"></a><span class="hs-identifier">ppr_app_ty</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsAppPrefix"><span class="hs-identifier hs-var">HsAppPrefix</span></a><span> </span><a name="local-6989586621679641496"><a href="#local-6989586621679641496"><span class="hs-identifier">ty</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="HsTypes.html#ppr_mono_lty"><span class="hs-identifier hs-var">ppr_mono_lty</span></a><span> </span><a href="#local-6989586621679641496"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1347"></a><span>
</span><a name="line-1348"></a><span class="hs-comment">--------------------------</span><span>
</span><a name="line-1349"></a><span class="hs-identifier">ppr_tylit</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#HsTyLit"><span class="hs-identifier hs-type">HsTyLit</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a><span>
</span><a name="line-1350"></a><a name="ppr_tylit"><a href="HsTypes.html#ppr_tylit"><span class="hs-identifier">ppr_tylit</span></a></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsNumTy"><span class="hs-identifier hs-var">HsNumTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641497"><a href="#local-6989586621679641497"><span class="hs-identifier">i</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#integer"><span class="hs-identifier hs-var">integer</span></a><span> </span><a href="#local-6989586621679641497"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-1351"></a><span class="hs-identifier">ppr_tylit</span><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsStrTy"><span class="hs-identifier hs-var">HsStrTy</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679641498"><a href="#local-6989586621679641498"><span class="hs-identifier">s</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Outputable.html#text"><span class="hs-identifier hs-var">text</span></a><span> </span><span class="hs-special">(</span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679641498"><span class="hs-identifier hs-var">s</span></a><span class="hs-special">)</span><span>
</span><a name="line-1352"></a><span>
</span><a name="line-1353"></a><span>
</span><a name="line-1354"></a><span class="hs-comment">-- | Return 'True' for compound types that will need parentheses when used in</span><span>
</span><a name="line-1355"></a><span class="hs-comment">-- an argument position.</span><span>
</span><a name="line-1356"></a><span class="hs-identifier">isCompoundHsType</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641214"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Bool</span><span>
</span><a name="line-1357"></a><a name="isCompoundHsType"><a href="HsTypes.html#isCompoundHsType"><span class="hs-identifier">isCompoundHsType</span></a></a><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="HsTypes.html#HsAppTy"><span class="hs-identifier hs-var">HsAppTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1358"></a><span class="hs-identifier">isCompoundHsType</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="HsTypes.html#HsAppsTy"><span class="hs-identifier hs-var">HsAppsTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1359"></a><span class="hs-identifier">isCompoundHsType</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="HsTypes.html#HsEqTy"><span class="hs-identifier hs-var">HsEqTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1360"></a><span class="hs-identifier">isCompoundHsType</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="HsTypes.html#HsFunTy"><span class="hs-identifier hs-var">HsFunTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1361"></a><span class="hs-identifier">isCompoundHsType</span><span> </span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a href="HsTypes.html#HsOpTy"><span class="hs-identifier hs-var">HsOpTy</span></a><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">True</span><span>
</span><a name="line-1362"></a><span class="hs-identifier">isCompoundHsType</span><span> </span><span class="hs-identifier">_</span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">False</span><span>
</span><a name="line-1363"></a><span>
</span><a name="line-1364"></a><span class="hs-comment">-- | @'parenthesizeCompoundHsType' ty@ checks if @'isCompoundHsType' ty@ is</span><span>
</span><a name="line-1365"></a><span class="hs-comment">-- true, and if so, surrounds @ty@ with an 'HsParTy'. Otherwise, it simply</span><span>
</span><a name="line-1366"></a><span class="hs-comment">-- returns @ty@.</span><span>
</span><a name="line-1367"></a><span class="hs-identifier">parenthesizeCompoundHsType</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641213"><span class="hs-identifier hs-type">pass</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="HsTypes.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a><span> </span><a href="#local-6989586621679641213"><span class="hs-identifier hs-type">pass</span></a><span>
</span><a name="line-1368"></a><a name="parenthesizeCompoundHsType"><a href="HsTypes.html#parenthesizeCompoundHsType"><span class="hs-identifier">parenthesizeCompoundHsType</span></a></a><span> </span><a name="local-6989586621679641499"><a href="#local-6989586621679641499"><span class="hs-identifier">ty</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a name="local-6989586621679641500"><a href="#local-6989586621679641500"><span class="hs-identifier">loc</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>
</span><a name="line-1369"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="HsTypes.html#isCompoundHsType"><span class="hs-identifier hs-var">isCompoundHsType</span></a><span> </span><a href="#local-6989586621679641499"><span class="hs-identifier hs-var">ty</span></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a><span> </span><a href="#local-6989586621679641500"><span class="hs-identifier hs-var">loc</span></a><span> </span><span class="hs-special">(</span><a href="HsTypes.html#HsParTy"><span class="hs-identifier hs-var">HsParTy</span></a><span> </span><a href="#local-6989586621679641499"><span class="hs-identifier hs-var">ty</span></a><span class="hs-special">)</span><span>
</span><a name="line-1370"></a><span>  </span><span class="hs-glyph">|</span><span> </span><a href="../base-4.11.0.0/src/%{MODULE/./-}.html#%{NAME}/GHC.Base.html#otherwise"><span class="hs-identifier hs-var">otherwise</span></a><span>           </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679641499"><span class="hs-identifier hs-var">ty</span></a><span>
</span><a name="line-1371"></a></pre></body></html>