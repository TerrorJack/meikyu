<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Distribution.Utils.Generic</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Distribution.Utils.Generic.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">Cabal-2.2.0.0: A framework for packaging Haskell software</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Isaac Jones Simon Marlow 2003-2004</td></tr><tr><th>License</th><td>BSD3
                portions Copyright (c) 2007, Galois Inc.</td></tr><tr><th>Maintainer</th><td>cabal-devel@haskell.org</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Distribution.Utils.Generic</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">reading and writing files safely</a></li><li><a href="#g:2">Unicode</a><ul><li><a href="#g:3">Conversions</a></li><li><a href="#g:4">File I/O</a></li><li><a href="#g:5">BOM</a></li><li><a href="#g:6">Misc</a></li></ul></li><li><a href="#g:7">generic utils</a></li><li><a href="#g:8">FilePath stuff</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A large and somewhat miscellaneous collection of utility functions used
 throughout the rest of the Cabal lib and in other tools that use the Cabal
 lib like <code>cabal-install</code>. It has a very simple set of logging actions. It
 has low level functions for running programs, a bunch of wrappers for
 various directory and file functions that do extra logging.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:withFileContents">withFileContents</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:FilePath">FilePath</a> -&gt; (<a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:NoCallStackIO">NoCallStackIO</a> a) -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:NoCallStackIO">NoCallStackIO</a> a</li><li class="src short"><a href="#v:writeFileAtomic">writeFileAtomic</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:FilePath">FilePath</a> -&gt; <a href="../bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:NoCallStackIO">NoCallStackIO</a> ()</li><li class="src short"><a href="#v:fromUTF8BS">fromUTF8BS</a> :: <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a></li><li class="src short"><a href="#v:fromUTF8LBS">fromUTF8LBS</a> :: <a href="../bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a></li><li class="src short"><a href="#v:toUTF8BS">toUTF8BS</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:toUTF8LBS">toUTF8LBS</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="../bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:validateUTF8">validateUTF8</a> :: <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Maybe">Maybe</a> <a href="Distribution-Compat-Prelude-Internal.html#t:Int">Int</a></li><li class="src short"><a href="#v:readUTF8File">readUTF8File</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:FilePath">FilePath</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:NoCallStackIO">NoCallStackIO</a> <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a></li><li class="src short"><a href="#v:withUTF8FileContents">withUTF8FileContents</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:FilePath">FilePath</a> -&gt; (<a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:IO">IO</a> a) -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:IO">IO</a> a</li><li class="src short"><a href="#v:writeUTF8File">writeUTF8File</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:FilePath">FilePath</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:NoCallStackIO">NoCallStackIO</a> ()</li><li class="src short"><a href="#v:ignoreBOM">ignoreBOM</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a></li><li class="src short"><a href="#v:normaliseLineEndings">normaliseLineEndings</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a></li><li class="src short"><a href="#v:dropWhileEndLE">dropWhileEndLE</a> :: (a -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a>) -&gt; [a] -&gt; [a]</li><li class="src short"><a href="#v:takeWhileEndLE">takeWhileEndLE</a> :: (a -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a>) -&gt; [a] -&gt; [a]</li><li class="src short"><a href="#v:equating">equating</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Eq">Eq</a> a =&gt; (b -&gt; a) -&gt; b -&gt; b -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:comparing">comparing</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Ord">Ord</a> a =&gt; (b -&gt; a) -&gt; b -&gt; b -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Ordering">Ordering</a></li><li class="src short"><a href="#v:isInfixOf">isInfixOf</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Eq">Eq</a> a =&gt; [a] -&gt; [a] -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:intercalate">intercalate</a> :: [a] -&gt; [[a]] -&gt; [a]</li><li class="src short"><a href="#v:lowercase">lowercase</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a></li><li class="src short"><a href="#v:isAscii">isAscii</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Char">Char</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isAsciiAlpha">isAsciiAlpha</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Char">Char</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isAsciiAlphaNum">isAsciiAlphaNum</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Char">Char</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:listUnion">listUnion</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Ord">Ord</a> a =&gt; [a] -&gt; [a] -&gt; [a]</li><li class="src short"><a href="#v:listUnionRight">listUnionRight</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Ord">Ord</a> a =&gt; [a] -&gt; [a] -&gt; [a]</li><li class="src short"><a href="#v:ordNub">ordNub</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Ord">Ord</a> a =&gt; [a] -&gt; [a]</li><li class="src short"><a href="#v:ordNubBy">ordNubBy</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Ord">Ord</a> b =&gt; (a -&gt; b) -&gt; [a] -&gt; [a]</li><li class="src short"><a href="#v:ordNubRight">ordNubRight</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Ord">Ord</a> a =&gt; [a] -&gt; [a]</li><li class="src short"><a href="#v:safeTail">safeTail</a> :: [a] -&gt; [a]</li><li class="src short"><a href="#v:unintersperse">unintersperse</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Char">Char</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; [<a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a>]</li><li class="src short"><a href="#v:wrapText">wrapText</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a></li><li class="src short"><a href="#v:wrapLine">wrapLine</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Int">Int</a> -&gt; [<a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a>] -&gt; [[<a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a>]]</li><li class="src short"><a href="#v:unfoldrM">unfoldrM</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Monad">Monad</a> m =&gt; (b -&gt; m (<a href="Distribution-Compat-Prelude-Internal.html#t:Maybe">Maybe</a> (a, b))) -&gt; b -&gt; m [a]</li><li class="src short"><a href="#v:spanMaybe">spanMaybe</a> :: (a -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Maybe">Maybe</a> b) -&gt; [a] -&gt; ([b], [a])</li><li class="src short"><a href="#v:breakMaybe">breakMaybe</a> :: (a -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Maybe">Maybe</a> b) -&gt; [a] -&gt; ([a], <a href="Distribution-Compat-Prelude-Internal.html#t:Maybe">Maybe</a> (b, [a]))</li><li class="src short"><a href="#v:isAbsoluteOnAnyPlatform">isAbsoluteOnAnyPlatform</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:FilePath">FilePath</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isRelativeOnAnyPlatform">isRelativeOnAnyPlatform</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:FilePath">FilePath</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a></li></ul></details></div><div id="interface"><h1 id="g:1">reading and writing files safely</h1><div class="top"><p class="src"><a id="v:withFileContents" class="def">withFileContents</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:FilePath">FilePath</a> -&gt; (<a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:NoCallStackIO">NoCallStackIO</a> a) -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:NoCallStackIO">NoCallStackIO</a> a <a href="src/Distribution.Utils.Generic.html#withFileContents" class="link">Source</a> <a href="#v:withFileContents" class="selflink">#</a></p><div class="doc"><p>Gets the contents of a file, but guarantee that it gets closed.</p><p>The file is read lazily but if it is not fully consumed by the action then
 the remaining input is truncated and the file is closed.</p></div></div><div class="top"><p class="src"><a id="v:writeFileAtomic" class="def">writeFileAtomic</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:FilePath">FilePath</a> -&gt; <a href="../bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:NoCallStackIO">NoCallStackIO</a> () <a href="src/Distribution.Utils.Generic.html#writeFileAtomic" class="link">Source</a> <a href="#v:writeFileAtomic" class="selflink">#</a></p><div class="doc"><p>Writes a file atomically.</p><p>The file is either written successfully or an IO exception is raised and
 the original file is left unchanged.</p><p>On windows it is not possible to delete a file that is open by a process.
 This case will give an IO exception but the atomic property is not affected.</p></div></div><h1 id="g:2">Unicode</h1><h2 id="g:3">Conversions</h2><div class="top"><p class="src"><a id="v:fromUTF8BS" class="def">fromUTF8BS</a> :: <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> <a href="src/Distribution.Utils.Generic.html#fromUTF8BS" class="link">Source</a> <a href="#v:fromUTF8BS" class="selflink">#</a></p><div class="doc"><p>Decode <code><a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a></code> from UTF8-encoded <code><a href="../bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></code></p><p>Invalid data in the UTF8 stream (this includes code-points <code>U+D800</code>
 through <code>U+DFFF</code>) will be decoded as the replacement character (<code>U+FFFD</code>).</p></div></div><div class="top"><p class="src"><a id="v:fromUTF8LBS" class="def">fromUTF8LBS</a> :: <a href="../bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> <a href="src/Distribution.Utils.Generic.html#fromUTF8LBS" class="link">Source</a> <a href="#v:fromUTF8LBS" class="selflink">#</a></p><div class="doc"><p>Variant of <code><a href="Distribution-Utils-Generic.html#v:fromUTF8BS">fromUTF8BS</a></code> for lazy <code><a href="../bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></code>s</p></div></div><div class="top"><p class="src"><a id="v:toUTF8BS" class="def">toUTF8BS</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> <a href="src/Distribution.Utils.Generic.html#toUTF8BS" class="link">Source</a> <a href="#v:toUTF8BS" class="selflink">#</a></p><div class="doc"><p>Encode <code><a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a></code> to to UTF8-encoded <code><a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a></code></p><p>Code-points in the <code>U+D800</code>-<code>U+DFFF</code> range will be encoded
 as the replacement character (i.e. <code>U+FFFD</code>).</p></div></div><div class="top"><p class="src"><a id="v:toUTF8LBS" class="def">toUTF8LBS</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="../bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a> <a href="src/Distribution.Utils.Generic.html#toUTF8LBS" class="link">Source</a> <a href="#v:toUTF8LBS" class="selflink">#</a></p><div class="doc"><p>Variant of <code><a href="Distribution-Utils-Generic.html#v:toUTF8BS">toUTF8BS</a></code> for lazy <code><a href="../bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a></code>s</p></div></div><div class="top"><p class="src"><a id="v:validateUTF8" class="def">validateUTF8</a> :: <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Maybe">Maybe</a> <a href="Distribution-Compat-Prelude-Internal.html#t:Int">Int</a> <a href="src/Distribution.Utils.Generic.html#validateUTF8" class="link">Source</a> <a href="#v:validateUTF8" class="selflink">#</a></p><div class="doc"><p>Check that strict <code>ByteString</code> is valid UTF8. Returns 'Just offset' if it's not.</p></div></div><h2 id="g:4">File I/O</h2><div class="top"><p class="src"><a id="v:readUTF8File" class="def">readUTF8File</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:FilePath">FilePath</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:NoCallStackIO">NoCallStackIO</a> <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> <a href="src/Distribution.Utils.Generic.html#readUTF8File" class="link">Source</a> <a href="#v:readUTF8File" class="selflink">#</a></p><div class="doc"><p>Reads a UTF8 encoded text file as a Unicode String</p><p>Reads lazily using ordinary <code><a href="Distribution-Compat-Prelude-Internal.html#v:readFile">readFile</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:withUTF8FileContents" class="def">withUTF8FileContents</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:FilePath">FilePath</a> -&gt; (<a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:IO">IO</a> a) -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:IO">IO</a> a <a href="src/Distribution.Utils.Generic.html#withUTF8FileContents" class="link">Source</a> <a href="#v:withUTF8FileContents" class="selflink">#</a></p><div class="doc"><p>Reads a UTF8 encoded text file as a Unicode String</p><p>Same behaviour as <code><a href="Distribution-Utils-Generic.html#v:withFileContents">withFileContents</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:writeUTF8File" class="def">writeUTF8File</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:FilePath">FilePath</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:NoCallStackIO">NoCallStackIO</a> () <a href="src/Distribution.Utils.Generic.html#writeUTF8File" class="link">Source</a> <a href="#v:writeUTF8File" class="selflink">#</a></p><div class="doc"><p>Writes a Unicode String as a UTF8 encoded text file.</p><p>Uses <code><a href="Distribution-Utils-Generic.html#v:writeFileAtomic">writeFileAtomic</a></code>, so provides the same guarantees.</p></div></div><h2 id="g:5">BOM</h2><div class="top"><p class="src"><a id="v:ignoreBOM" class="def">ignoreBOM</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> <a href="src/Distribution.Utils.Generic.html#ignoreBOM" class="link">Source</a> <a href="#v:ignoreBOM" class="selflink">#</a></p><div class="doc"><p>Ignore a Unicode byte order mark (BOM) at the beginning of the input</p></div></div><h2 id="g:6">Misc</h2><div class="top"><p class="src"><a id="v:normaliseLineEndings" class="def">normaliseLineEndings</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> <a href="src/Distribution.Utils.Generic.html#normaliseLineEndings" class="link">Source</a> <a href="#v:normaliseLineEndings" class="selflink">#</a></p><div class="doc"><p>Fix different systems silly line ending conventions</p></div></div><h1 id="g:7">generic utils</h1><div class="top"><p class="src"><a id="v:dropWhileEndLE" class="def">dropWhileEndLE</a> :: (a -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a>) -&gt; [a] -&gt; [a] <a href="src/Distribution.Utils.Generic.html#dropWhileEndLE" class="link">Source</a> <a href="#v:dropWhileEndLE" class="selflink">#</a></p><div class="doc"><p><code>dropWhileEndLE p</code> is equivalent to <code>reverse . dropWhile p . reverse</code>, but
 quite a bit faster. The difference between &quot;Data.List.dropWhileEnd&quot; and this
 version is that the one in <a href="../base-4.11.0.0/Data-List.html">Data.List</a> is strict in elements, but spine-lazy,
 while this one is spine-strict but lazy in elements. That's what <code>LE</code> stands
 for - &quot;lazy in elements&quot;.</p><p>Example:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>tail $ Data.List.dropWhileEnd (&lt;3) [undefined, 5, 4, 3, 2, 1]
</code></strong>*** Exception: Prelude.undefined
...
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>tail $ dropWhileEndLE (&lt;3) [undefined, 5, 4, 3, 2, 1]
</code></strong>[5,4,3]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 3 $ Data.List.dropWhileEnd (&lt;3) [5, 4, 3, 2, 1, undefined]
</code></strong>[5,4,3]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 3 $ dropWhileEndLE (&lt;3) [5, 4, 3, 2, 1, undefined]
</code></strong>*** Exception: Prelude.undefined
...
</pre></div></div><div class="top"><p class="src"><a id="v:takeWhileEndLE" class="def">takeWhileEndLE</a> :: (a -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a>) -&gt; [a] -&gt; [a] <a href="src/Distribution.Utils.Generic.html#takeWhileEndLE" class="link">Source</a> <a href="#v:takeWhileEndLE" class="selflink">#</a></p><div class="doc"><p><code>takeWhileEndLE p</code> is equivalent to <code>reverse . takeWhile p . reverse</code>, but
 is usually faster (as well as being easier to read).</p></div></div><div class="top"><p class="src"><a id="v:equating" class="def">equating</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Eq">Eq</a> a =&gt; (b -&gt; a) -&gt; b -&gt; b -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a> <a href="src/Distribution.Utils.Generic.html#equating" class="link">Source</a> <a href="#v:equating" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:comparing" class="def">comparing</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Ord">Ord</a> a =&gt; (b -&gt; a) -&gt; b -&gt; b -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Ordering">Ordering</a> <a href="../base-4.11.0.0/src/Data-Ord.html#comparing" class="link">Source</a> <a href="#v:comparing" class="selflink">#</a></p><div class="doc"><pre>comparing p x y = compare (p x) (p y)</pre><p>Useful combinator for use in conjunction with the <code>xxxBy</code> family
 of functions from <a href="../base-4.11.0.0/Data-List.html">Data.List</a>, for example:</p><pre>  ... sortBy (comparing fst) ...</pre></div></div><div class="top"><p class="src"><a id="v:isInfixOf" class="def">isInfixOf</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Eq">Eq</a> a =&gt; [a] -&gt; [a] -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a> <a href="../base-4.11.0.0/src/Data-OldList.html#isInfixOf" class="link">Source</a> <a href="#v:isInfixOf" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Distribution-Utils-Generic.html#v:isInfixOf">isInfixOf</a></code> function takes two lists and returns <code><a href="Distribution-Compat-Prelude-Internal.html#v:True">True</a></code>
 iff the first list is contained, wholly and intact,
 anywhere within the second.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>isInfixOf &quot;Haskell&quot; &quot;I really like Haskell.&quot;
</code></strong>True
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>isInfixOf &quot;Ial&quot; &quot;I really like Haskell.&quot;
</code></strong>False
</pre></div></div><div class="top"><p class="src"><a id="v:intercalate" class="def">intercalate</a> :: [a] -&gt; [[a]] -&gt; [a] <a href="../base-4.11.0.0/src/Data-OldList.html#intercalate" class="link">Source</a> <a href="#v:intercalate" class="selflink">#</a></p><div class="doc"><p><code><a href="Distribution-Utils-Generic.html#v:intercalate">intercalate</a></code> <code>xs xss</code> is equivalent to <code>(<code><a href="../base-4.11.0.0/GHC-OldList.html#v:concat">concat</a></code> (<code><a href="Distribution-Compat-Prelude-Internal.html#v:intersperse">intersperse</a></code> xs xss))</code>.
 It inserts the list <code>xs</code> in between the lists in <code>xss</code> and concatenates the
 result.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>intercalate &quot;, &quot; [&quot;Lorem&quot;, &quot;ipsum&quot;, &quot;dolor&quot;]
</code></strong>&quot;Lorem, ipsum, dolor&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:lowercase" class="def">lowercase</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> <a href="src/Distribution.Utils.Generic.html#lowercase" class="link">Source</a> <a href="#v:lowercase" class="selflink">#</a></p><div class="doc"><p>Lower case string</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>lowercase &quot;Foobar&quot;
</code></strong>&quot;foobar&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:isAscii" class="def">isAscii</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Char">Char</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a> <a href="src/Distribution.Utils.Generic.html#isAscii" class="link">Source</a> <a href="#v:isAscii" class="selflink">#</a></p><div class="doc"><p>Ascii characters</p></div></div><div class="top"><p class="src"><a id="v:isAsciiAlpha" class="def">isAsciiAlpha</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Char">Char</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a> <a href="src/Distribution.Utils.Generic.html#isAsciiAlpha" class="link">Source</a> <a href="#v:isAsciiAlpha" class="selflink">#</a></p><div class="doc"><p>Ascii letters.</p></div></div><div class="top"><p class="src"><a id="v:isAsciiAlphaNum" class="def">isAsciiAlphaNum</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Char">Char</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a> <a href="src/Distribution.Utils.Generic.html#isAsciiAlphaNum" class="link">Source</a> <a href="#v:isAsciiAlphaNum" class="selflink">#</a></p><div class="doc"><p>Ascii letters and digits.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>isAsciiAlphaNum 'a'
</code></strong>True
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>isAsciiAlphaNum '&#228;'
</code></strong>False
</pre></div></div><div class="top"><p class="src"><a id="v:listUnion" class="def">listUnion</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Ord">Ord</a> a =&gt; [a] -&gt; [a] -&gt; [a] <a href="src/Distribution.Utils.Generic.html#listUnion" class="link">Source</a> <a href="#v:listUnion" class="selflink">#</a></p><div class="doc"><p>Like &quot;Data.List.union&quot;, but has <code>O(n log n)</code> complexity instead of
 <code>O(n^2)</code>.</p></div></div><div class="top"><p class="src"><a id="v:listUnionRight" class="def">listUnionRight</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Ord">Ord</a> a =&gt; [a] -&gt; [a] -&gt; [a] <a href="src/Distribution.Utils.Generic.html#listUnionRight" class="link">Source</a> <a href="#v:listUnionRight" class="selflink">#</a></p><div class="doc"><p>A right-biased version of <code><a href="Distribution-Utils-Generic.html#v:listUnion">listUnion</a></code>.</p><p>Example:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>listUnion [1,2,3,4,3] [2,1,1]
</code></strong>[1,2,3,4,3]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>listUnionRight [1,2,3,4,3] [2,1,1]
</code></strong>[4,3,2,1,1]
</pre></div></div><div class="top"><p class="src"><a id="v:ordNub" class="def">ordNub</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Ord">Ord</a> a =&gt; [a] -&gt; [a] <a href="src/Distribution.Utils.Generic.html#ordNub" class="link">Source</a> <a href="#v:ordNub" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="../base-4.11.0.0/Data-List.html#v:nub">nub</a></code>, but has <code>O(n log n)</code> complexity instead of
 <code>O(n^2)</code>. Code for <code><a href="Distribution-Utils-Generic.html#v:ordNub">ordNub</a></code> and <code><a href="Distribution-Utils-Generic.html#v:listUnion">listUnion</a></code> taken from Niklas Hamb&#252;chen's
 <a href="http://github.com/nh2/haskell-ordnub">ordnub</a> package.</p></div></div><div class="top"><p class="src"><a id="v:ordNubBy" class="def">ordNubBy</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Ord">Ord</a> b =&gt; (a -&gt; b) -&gt; [a] -&gt; [a] <a href="src/Distribution.Utils.Generic.html#ordNubBy" class="link">Source</a> <a href="#v:ordNubBy" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Distribution-Utils-Generic.html#v:ordNub">ordNub</a></code> and <code><a href="../base-4.11.0.0/Data-List.html#v:nubBy">nubBy</a></code>. Selects a key for each element and
 takes the nub based on that key.</p></div></div><div class="top"><p class="src"><a id="v:ordNubRight" class="def">ordNubRight</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Ord">Ord</a> a =&gt; [a] -&gt; [a] <a href="src/Distribution.Utils.Generic.html#ordNubRight" class="link">Source</a> <a href="#v:ordNubRight" class="selflink">#</a></p><div class="doc"><p>A right-biased version of <code><a href="Distribution-Utils-Generic.html#v:ordNub">ordNub</a></code>.</p><p>Example:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ordNub [1,2,1] :: [Int]
</code></strong>[1,2]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ordNubRight [1,2,1] :: [Int]
</code></strong>[2,1]
</pre></div></div><div class="top"><p class="src"><a id="v:safeTail" class="def">safeTail</a> :: [a] -&gt; [a] <a href="src/Distribution.Utils.Generic.html#safeTail" class="link">Source</a> <a href="#v:safeTail" class="selflink">#</a></p><div class="doc"><p>A total variant of <code><a href="Distribution-Compat-Prelude-Internal.html#v:tail">tail</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:unintersperse" class="def">unintersperse</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Char">Char</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; [<a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a>] <a href="src/Distribution.Utils.Generic.html#unintersperse" class="link">Source</a> <a href="#v:unintersperse" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:wrapText" class="def">wrapText</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a> <a href="src/Distribution.Utils.Generic.html#wrapText" class="link">Source</a> <a href="#v:wrapText" class="selflink">#</a></p><div class="doc"><p>Wraps text to the default line width. Existing newlines are preserved.</p></div></div><div class="top"><p class="src"><a id="v:wrapLine" class="def">wrapLine</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Int">Int</a> -&gt; [<a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a>] -&gt; [[<a href="Distribution-Compat-Prelude-Internal.html#t:String">String</a>]] <a href="src/Distribution.Utils.Generic.html#wrapLine" class="link">Source</a> <a href="#v:wrapLine" class="selflink">#</a></p><div class="doc"><p>Wraps a list of words to a list of lines of words of a particular width.</p></div></div><div class="top"><p class="src"><a id="v:unfoldrM" class="def">unfoldrM</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:Monad">Monad</a> m =&gt; (b -&gt; m (<a href="Distribution-Compat-Prelude-Internal.html#t:Maybe">Maybe</a> (a, b))) -&gt; b -&gt; m [a] <a href="src/Distribution.Utils.Generic.html#unfoldrM" class="link">Source</a> <a href="#v:unfoldrM" class="selflink">#</a></p><div class="doc"><p><code><a href="Distribution-Compat-Prelude-Internal.html#v:unfoldr">unfoldr</a></code> with monadic action.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 5 $ unfoldrM (\b r -&gt; Just (r + b, b + 1)) (1 :: Int) 2
</code></strong>[3,4,5,6,7]
</pre><p><em>Since: 2.2</em></p></div></div><div class="top"><p class="src"><a id="v:spanMaybe" class="def">spanMaybe</a> :: (a -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Maybe">Maybe</a> b) -&gt; [a] -&gt; ([b], [a]) <a href="src/Distribution.Utils.Generic.html#spanMaybe" class="link">Source</a> <a href="#v:spanMaybe" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Distribution-Compat-Prelude-Internal.html#v:span">span</a></code> but with <code><a href="Distribution-Compat-Prelude-Internal.html#t:Maybe">Maybe</a></code> predicate</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>spanMaybe listToMaybe [[1,2],[3],[],[4,5],[6,7]]
</code></strong>([1,3],[[],[4,5],[6,7]])
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>spanMaybe (readMaybe :: String -&gt; Maybe Int) [&quot;1&quot;, &quot;2&quot;, &quot;foo&quot;]
</code></strong>([1,2],[&quot;foo&quot;])
</pre><p><em>Since: 2.2</em></p></div></div><div class="top"><p class="src"><a id="v:breakMaybe" class="def">breakMaybe</a> :: (a -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Maybe">Maybe</a> b) -&gt; [a] -&gt; ([a], <a href="Distribution-Compat-Prelude-Internal.html#t:Maybe">Maybe</a> (b, [a])) <a href="src/Distribution.Utils.Generic.html#breakMaybe" class="link">Source</a> <a href="#v:breakMaybe" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Distribution-Compat-Prelude-Internal.html#v:break">break</a></code>, but with <code><a href="Distribution-Compat-Prelude-Internal.html#t:Maybe">Maybe</a></code> predicate</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>breakMaybe (readMaybe :: String -&gt; Maybe Int) [&quot;foo&quot;, &quot;bar&quot;, &quot;1&quot;, &quot;2&quot;, &quot;quu&quot;]
</code></strong>([&quot;foo&quot;,&quot;bar&quot;],Just (1,[&quot;2&quot;,&quot;quu&quot;]))
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>breakMaybe (readMaybe :: String -&gt; Maybe Int) [&quot;foo&quot;, &quot;bar&quot;]
</code></strong>([&quot;foo&quot;,&quot;bar&quot;],Nothing)
</pre><p><em>Since: 2.2</em></p></div></div><h1 id="g:8">FilePath stuff</h1><div class="top"><p class="src"><a id="v:isAbsoluteOnAnyPlatform" class="def">isAbsoluteOnAnyPlatform</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:FilePath">FilePath</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a> <a href="src/Distribution.Utils.Generic.html#isAbsoluteOnAnyPlatform" class="link">Source</a> <a href="#v:isAbsoluteOnAnyPlatform" class="selflink">#</a></p><div class="doc"><p><code><a href="Distribution-Utils-Generic.html#v:isAbsoluteOnAnyPlatform">isAbsoluteOnAnyPlatform</a></code> and <code><a href="Distribution-Utils-Generic.html#v:isRelativeOnAnyPlatform">isRelativeOnAnyPlatform</a></code> are like
 <code><a href="../filepath-1.4.2/System-FilePath.html#v:isAbsolute">isAbsolute</a></code> and <code><a href="../filepath-1.4.2/System-FilePath.html#v:isRelative">isRelative</a></code> but have
 platform independent heuristics.
 The System.FilePath exists in two versions, Windows and Posix. The two
 versions don't agree on what is a relative path and we don't know if we're
 given Windows or Posix paths.
 This results in false positives when running on Posix and inspecting
 Windows paths, like the hackage server does.
 System.FilePath.Posix.isAbsolute &quot;C:\hello&quot; == False
 System.FilePath.Windows.isAbsolute &quot;/hello&quot; == False
 This means that we would treat paths that start with &quot;/&quot; to be absolute.
 On Posix they are indeed absolute, while on Windows they are not.</p><p>The portable versions should be used when we might deal with paths that
 are from another OS than the host OS. For example, the Hackage Server
 deals with both Windows and Posix paths while performing the
 PackageDescription checks. In contrast, when we run 'cabal configure' we
 do expect the paths to be correct for our OS and we should not have to use
 the platform independent heuristics.</p></div></div><div class="top"><p class="src"><a id="v:isRelativeOnAnyPlatform" class="def">isRelativeOnAnyPlatform</a> :: <a href="Distribution-Compat-Prelude-Internal.html#t:FilePath">FilePath</a> -&gt; <a href="Distribution-Compat-Prelude-Internal.html#t:Bool">Bool</a> <a href="src/Distribution.Utils.Generic.html#isRelativeOnAnyPlatform" class="link">Source</a> <a href="#v:isRelativeOnAnyPlatform" class="selflink">#</a></p><div class="doc"><pre>isRelativeOnAnyPlatform = not . <code><a href="Distribution-Utils-Generic.html#v:isAbsoluteOnAnyPlatform">isAbsoluteOnAnyPlatform</a></code></pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.2</p></div></body></html>